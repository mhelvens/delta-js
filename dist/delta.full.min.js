(function e(t,r){if(typeof exports==="object"&&typeof module==="object")module.exports=r();else if(typeof define==="function"&&define.amd)define(r);else if(typeof exports==="object")exports["DeltaJs"]=r();else t["DeltaJs"]=r()})(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:false};e[n].call(i.exports,i,i.exports,r);i.loaded=true;return i.exports}r.m=e;r.c=t;r.p="";return r(0)}([function(e,t,r){r(1);e.exports=r(2)},function(e,t,r){e.exports=r(8)},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(t,"__esModule",{value:true});var i=r(3);var a=r(4);var o=n(a);var u=r(5);var s=r(6);var f=n(s);var l=r(7);i.extend(o["default"],{ReadableTarget:u.ReadableTarget,WritableTarget:u.WritableTarget});i.extend(o["default"],{Path:f["default"]});i.extend(o["default"],{ApplicationError:l.ApplicationError,PreconditionFailure:l.PreconditionFailure,MultipleOverloadsApplicationError:l.MultipleOverloadsApplicationError,NoOverloadsApplicationError:l.NoOverloadsApplicationError,CompositionError:l.CompositionError,MultipleOverloadsCompositionError:l.MultipleOverloadsCompositionError,ConstraintFailure:l.ConstraintFailure,ApplicationOrderCycle:l.ApplicationOrderCycle,UnresolvedDeltaConflict:l.UnresolvedDeltaConflict,MultipleActiveProxiesError:l.MultipleActiveProxiesError});t["default"]=o["default"];e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else{return Array.from(e)}};Object.defineProperty(t,"__esModule",{value:true});t.extend=i;t.o=o;t.a=u;t.m=s;t.s=f;t.assert=l;t.isUndefined=c;t.isDefined=v;t.repeat=d;t.indent=h;t.oncePer=y;t.mapEqual=w;t.customIndexOf=b;t.arraysEqual=x;t.arraysHaveSameElements=O;t.swapLastTwo=_;function i(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}var i=true;var a=false;var o=undefined;try{for(var u=r[Symbol.iterator](),s;!(i=(s=u.next()).done);i=true){var f=s.value;var l=true;var c=false;var v=undefined;try{for(var d=Object.keys(f)[Symbol.iterator](),h;!(l=(h=d.next()).done);l=true){var p=h.value;Object.defineProperty(e,p,Object.getOwnPropertyDescriptor(f,p))}}catch(y){c=true;v=y}finally{try{if(!l&&d["return"]){d["return"]()}}finally{if(c){throw v}}}}}catch(y){a=true;o=y}finally{try{if(!i&&u["return"]){u["return"]()}}finally{if(a){throw o}}}return e}var a=function E(e){return function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++){i[a-1]=arguments[a]}var o=i.slice(0,-1);var u=i[i.length-1];if(o.length===0){return t}var s=e.apply(undefined,[t].concat(n(o.slice(0,-1))));if(s instanceof Map){if(c(s.get(o[o.length-1]))){s.set(o[o.length-1],u)}return s.get(o[o.length-1])}else{if(c(s[o[o.length-1]])){s[o[o.length-1]]=u}return s[o[o.length-1]]}}};function o(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}return a(o).apply(undefined,[e].concat(r,[{}]))}function u(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}return a(o).apply(undefined,[e].concat(r,[[]]))}function s(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}return a(s).apply(undefined,[e].concat(r,[new Map]))}function f(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}return a(s).apply(undefined,[e].concat(r,[new Set]))}function l(e,t){if(!e){throw new Error(t||"Assertion failed")}}function c(e){return typeof e==="undefined"}function v(e){return typeof e!=="undefined"}function d(e,t){return new Array(e+1).join(t)}function h(e,t){var r=arguments[2]===undefined?" ":arguments[2];return e.replace(/^(?!\s*$)/gm,d(t,r))}var p={};function y(e,t,r){var n=function a(e){if(!p[t]){p[t]=Symbol("once per:"+t)}if(e[p[t]]){return}e[p[t]]=true;return r.call(e,e)};if(typeof e==="string"){var i=[e,t];t=i[0];r=i[1];return n}else{return n(e)}}var g=function P(e,t){return function(r,n){return r.type===e&&n.type===t}};t.t=g;var m=function k(e){return function(t,r){if(typeof r==="string"){r=function(e){return function(t){return t[e]}}(r)}return function(n,i){return new e.Delta[t](r&&r({d1:n,d2:i,p1:n.arg,p2:i.arg}))}}};t.define_d=m;function w(e,t){var r=arguments[2]===undefined?function(e,t){return e===t}:arguments[2];if(e.size!==t.size){return false}var i=[].concat(n(e.keys())).sort();var a=[].concat(n(t.keys())).sort();for(var o=0;o<i.length;++o){if(i[o]!==a[o]){return false}if(!r(e.get(i[o]),t.get(a[o]))){return false}}return true}function b(e,t){var r=arguments[2]===undefined?function(e,t){return e===t}:arguments[2];for(var n=0;n<e.length;++n){if(r(e[n],t)){return n}}return-1}function x(e,t){var r=arguments[2]===undefined?function(e,t){return e===t}:arguments[2];if(e.length!==t.length){return false}for(var n=0;n<e.length;++n){if(!r(e[n],t[n])){return false}}return true}function O(e,t){var r=arguments[2]===undefined?function(e,t){return e===t}:arguments[2];if(e.length!==t.length){return false}var i=[].concat(n(t));for(var a=0;a<e.length;++a){var o=false;for(var u=0;u<i.length;++u){if(r(e[a],i[u])){i.splice(u,1);o=true;break}}if(!o){return false}}return true}function _(e){return e.slice(0,-2).concat([e[e.length-1],e[e.length-2]])}},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}};var i=Function.prototype.bind;var a=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();Object.defineProperty(t,"__esModule",{value:true});var u=r(3);var s=r(6);var f=n(s);var l=r(5);var c=r(9);var v=n(c);var d=r(10);var h=n(d);var p=r(11);var y=n(p);var g=r(12);var m=n(g);var w=r(13);var b=n(w);var x=r(14);var O=n(x);var _=r(15);var E=n(_);var P=r(16);var k=n(P);var S=r(17);var j=n(S);var A=r(18);var C=n(A);var D=r(19);var M=n(D);var T=function(){function e(){a(this,e);M["default"](this);v["default"](this);h["default"](this);y["default"](this);m["default"](this);b["default"](this);O["default"](this);E["default"](this);k["default"](this);j["default"](this);C["default"](this)}o(e,[{key:"newOperationType",value:function t(r,n){var a=arguments[2]===undefined?null:arguments[2];u.assert(r[0]===r[0].toUpperCase(),"Names of delta operation classes must start with a capital letter - '"+r+"' does not.");u.assert(u.isUndefined(this.Delta[r]),"The '"+r+"' operation type already exists.");this.Delta[r]=n;n.Proxy=a;var o=n.prototype.applyTo||function(){};u.extend(n.prototype,{applyTo:function y(t){var r=arguments[1]===undefined?{}:arguments[1];if(!this.selected){return}if(!(t instanceof e.ReadableTarget)){t=new e.ReadableTarget(t)}if(u.isUndefined(r.weak)){r.weak=false}var n=this.evaluatePrecondition(t,r);if(n!==true){throw n}o.call(this,t,r)},type:r});var s=r[0].toLowerCase()+r.slice(1);var f=true;var l=false;var c=undefined;try{for(var v=(n.prototype.methods||[s])[Symbol.iterator](),d;!(f=(d=v.next()).done);f=true){var h=d.value;this.ContainerProxy.newProxyMethod(h,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}return new(i.apply(n,[null].concat(t)))})}}catch(p){l=true;c=p}finally{try{if(!f&&v["return"]){v["return"]()}}finally{if(l){throw c}}}return n}}]);return e}();t["default"]=T;e.exports=t["default"]},function(e,t,r){"use strict";var n=function c(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(n===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return c(i,t,r)}}else if("value"in n){return n.value}else{var a=n.get;if(a===undefined){return undefined}return a.call(r)}};var i=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)e.__proto__=t};var a=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();Object.defineProperty(t,"__esModule",{value:true});t.wt=f;t.rt=l;var u=function(){function e(t){a(this,e);this._val=t}o(e,[{key:"getValue",value:function t(){return this._val}},{key:"value",get:function(){return this.getValue()},set:function(e){this.setValue(e)}}]);return e}();t.ReadableTarget=u;var s=function(e){function t(e,r){a(this,t);n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this._obj=e;this._prop=r}i(t,e);o(t,[{key:"getValue",value:function r(){return this._obj[this._prop]}},{key:"setValue",value:function u(e){this._obj[this._prop]=e}},{key:"delete",value:function s(){delete this._obj[this._prop]}}]);return t}(u);t.WritableTarget=s;function f(e,t){return new s(e,t)}function l(e,t){return new u(e,t)}},function(e,t,r){"use strict";var n=function(e,t){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done);n=true){r.push(u.value);if(t&&r.length===t)break}}catch(s){i=true;a=s}finally{try{if(!n&&o["return"])o["return"]()}finally{if(i)throw a}}return r}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}};var i=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();Object.defineProperty(t,"__esModule",{value:true});var o=r(3);var u=function(){function e(){var t=arguments[0]===undefined?"":arguments[0];i(this,e);var r=t.match(/^([.#]?)(\w*|\(\w+\))(.*)$/);o.assert(r,"The path string '"+t+"' is not well formed.");var a=n(r,4);var u=a[1];var s=a[2];var f=a[3];if(u==="#"){this.set(new e(".(instance)."+s+""+f))}else if(s!==""){this._prop=s;if(f!==""){this._rest=new e(f)}}}a(e,[{key:"set",value:function t(e){this._prop=e._prop;this._rest=e._rest}},{key:"prop",get:function(){return this._prop}},{key:"rest",get:function(){return this._rest}},{key:"toString",value:function r(){var e="";if(o.isDefined(this.prop)){e+=this.prop;if(o.isDefined(this.rest)){e+="."+this.rest.toString()}}return e}}]);return e}();t["default"]=u;e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else{return Array.from(e)}};var i=Function.prototype.bind;var a=Array.prototype.slice;var o=function w(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(n===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return w(i,t,r)}}else if("value"in n){return n.value}else{var a=n.get;if(a===undefined){return undefined}return a.call(r)}};var u=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var s=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)e.__proto__=t};Object.defineProperty(t,"__esModule",{value:true});var f=function(e){function t(){u(this,t);if(e!=null){var r=new(i.apply(e,[null].concat(a.call(arguments))));r.__proto__=t.prototype;return r}return r}s(t,e);return t}(Error);t.ApplicationError=f;var l=function(e){function t(e,r){u(this,t);o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.name="PreconditionFailure";this.message="This delta of type '"+e.type+"' cannot apply to this value of type '"+typeof r+"'.";this.delta=e;this.value=r}s(t,e);return t}(f);t.PreconditionFailure=l;var c=function(e){function t(e,r){var n=arguments[2]===undefined?[]:arguments[2];u(this,t);o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r);this.name="MultipleOverloadsApplicationError";this.message="None of the delta-types "+e.overloads.map(function(e){return"'"+e.type+"'"}).join(",")+" can apply to this value of type '"+typeof r+"'."+n.map(function(e){return"\n-- "+e.message}).join("");this.errors=n}s(t,e);return t}(l);t.MultipleOverloadsApplicationError=c;var v=function(e){function t(e,r){u(this,t);o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r);this.name="NoOverloadsApplicationError";this.message="This delta of type '"+e.type+"' has no specific deltas assigned to it, so it cannot apply to this value of type '"+typeof r+"."}s(t,e);return t}(l);t.NoOverloadsApplicationError=v;var d=function(e){function t(r,n){u(this,t);var i=new e;i.__proto__=t.prototype;i.name="CompositionError";i.message="This delta of type '"+r.type+"' cannot be composed with this other delta of type '"+n.type+"'.";i.delta1=r;i.delta2=n;return i}s(t,e);return t}(Error);t.CompositionError=d;var h=function(e){function t(e,r){var n=arguments[2]===undefined?[]:arguments[2];u(this,t);o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r);this.name="MultipleOverloadsCompositionError";this.message="There are no overloads to compose this delta of type '"+e.type+"' with this other delta of type '"+r.type+"'."+n.map(function(e){return"\n-- "+e.message}).join("");this.errors=n}s(t,e);return t}(d);t.MultipleOverloadsCompositionError=h;var p=function(e){function t(r){u(this,t);var n=new e;n.__proto__=t.prototype;n.name="ConstraintFailure";n.message="The feature '"+r.name+"' is both selected and excluded by its constraints.";n.feature=r;return n}s(t,e);return t}(Error);t.ConstraintFailure=p;var y=function(e){function t(r){u(this,t);var n=new e;n.__proto__=t.prototype;n.name="ApplicationOrderCycle";n.message="The new application order created a cycle: "+r+"}";n.cycle=r;return n}s(t,e);return t}(Error);t.ApplicationOrderCycle=y;var g=function(e){function t(e){u(this,t);o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.name="UnresolvedDeltaConflict";e=[].concat(n(e));var r=e.slice(0,-1).map(function(e){return"'"+e+"'"}).join(",");this.message="There is an unresolved conflict between deltas "+r+" and '"+e[e.length-1]+"'.";this.deltaNames=e}s(t,e);return t}(f);t.UnresolvedDeltaConflict=g;var m=function(e){function t(){u(this,t);var r=new e;r.__proto__=t.prototype;r.name="MultipleActiveProxiesError";r.message="Only one Proxy per path can be active at any given time.";return r}s(t,e);return t}(Error);t.MultipleActiveProxiesError=m},function(e,t,r){e.exports=r(20)},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}};var i=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else{return Array.from(e)}};var a=function(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:t==null||typeof Symbol=="undefined"||t.constructor!==Symbol,configurable:true,writable:true})};var o=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();Object.defineProperty(t,"__esModule",{value:true});var s=r(3);var f=r(5);var l=r(7);var c=r(21);var v=n(c);t["default"]=s.oncePer("Delta",function(e){e.Delta=function(){function t(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}o(this,t);this.id=++e.Delta._nextID;this.args=n}u(t,[{key:"arg",get:function(){return this.args[0]},set:function(e){this.args[0]=e}},{key:"clone",value:function r(){return new this.constructor(this.arg)}},{key:"evaluatePrecondition",value:function n(e){var t=arguments[1]===undefined?{}:arguments[1];var r=t.weak;if(this.precondition){var n=this.precondition(e,t);if(n instanceof l.PreconditionFailure){return n}else if(!n){return new l.PreconditionFailure(this,e.value)}}return true}},{key:"appliedTo",value:function i(e){var t=arguments[1]===undefined?{}:arguments[1];if(e instanceof f.ReadableTarget){e=e.value}if(typeof e.clone==="function"){e=e.clone()}var r={value:e};this.applyTo(f.wt(r,"value"),t);return r.value}},{key:"toString",value:function a(){var e=arguments[0]===undefined?{}:arguments[0];var t=this.type;if(e.targetProp){t+=" ‹"+e.targetProp+"›"}if(this.args.length>0){t+=": "+this.args.map(function(e){return JSON.stringify(e)}).join(",")}if(e.debug){t+=" ("+this.id+")"}return t}}]);return t}();e.Delta._nextID=0;var t=new Map;function r(r,n,o){var u;var f=arguments[3]===undefined?{}:arguments[3];if(s.isUndefined(f.commutative)){f.commutative=false}if(s.isUndefined(f.arity)){f.arity=2}if(s.isUndefined(f.onTrue)){f.onTrue=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}return t.slice(0,f.arity)}}if(s.isUndefined(f.onFalse)){f.onFalse=function(){throw new Error("Failure in finding a "+r+"!")}}if(f.onDefault==="onTrue"){f.onDefault=f.onTrue}else if(f.onDefault==="onFalse"||s.isUndefined(f.onDefault)){f.onDefault=f.onFalse}s.extend(f,{name:r,staticMethodName:n,methodName:o,creationMethodName:"new"+r[0].toUpperCase()+""+r.slice(1),storageSymbol:Symbol("multiDispatch:"+r)});t.set(r,f);var l=f.creationMethodName;var c=f.storageSymbol;var v=f.onTrue;var d=f.onFalse;var h=f.onDefault;var p=f.commutative;var y=f.arity;s.extend(e.Delta,(u={},a(u,c,[]),a(u,l,function(t,r){var n=arguments[2]===undefined?{}:arguments[2];if(s.isUndefined(n.weak)){n.weak=false}if(s.isUndefined(e.Delta[c])){e.Delta[c]=[]}e.Delta[c].push({precondition:t,value:r,options:n})}),a(u,n,function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++){r[n]=arguments[n]}var a=r.slice(0,y),o=r[y]||{};if(s.isUndefined(o.weak)){o.weak=false}var u=function S(){},f=false,l=false;if(s.isUndefined(e.Delta[c])){e.Delta[c]=[]}var g=true;var m=false;var w=undefined;try{for(var b=e.Delta[c][Symbol.iterator](),x;!(g=(x=b.next()).done);g=true){var O=x.value;var _=O.precondition;var E=O.value;var P=O.options;if(P.weak&&!o.weak){continue}if(_.apply(undefined,i(a))){u=E;f=true;break}else if(p&&_.apply(undefined,i(s.swapLastTwo(a)))){u=E;f=true;l=true;break}}}catch(k){m=true;w=k}finally{try{if(!g&&b["return"]){b["return"]()}}finally{if(m){throw w}}}if(!f){u=h}else if(u===false){u=d}else if(u===true){u=v}if(l){return u.apply(undefined,i(s.swapLastTwo(a)).concat([o]))}else{return u.apply(undefined,i(a).concat([o]))}}),u));s.extend(e.Delta.prototype,a({},o,function(){var t;for(var r=arguments.length,i=Array(r),a=0;a<r;a++){i[a]=arguments[a]}return(t=e.Delta)[n].apply(t,[this].concat(i))}));s.oncePer(e.constructor,"multiDispatch:"+r,function(){s.extend(e.constructor.prototype,a({},l,function(e,t){var r=arguments[2]===undefined?{}:arguments[2];return this.Delta[l](e,t,r)}))})}function n(r){for(var n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++){a[o-1]=arguments[o]}var u=t.get(r);var f=u.storageSymbol;var l=u.commutative;var c=true;var v=false;var d=undefined;try{for(var h=e.Delta[f][Symbol.iterator](),p;!(c=(p=h.next()).done);c=true){var y=p.value;var g=y.precondition;var m=y.value;if(g.apply(undefined,a)||l&&g.apply(undefined,i(s.swapLastTwo(a)))){return typeof m==="function"}}}catch(w){v=true;d=w}finally{try{if(!c&&h["return"]){h["return"]()}}finally{if(v){throw d}}}return false}r("composition","_binaryComposed","composedWith",{onTrue:function c(t,r,n){return new e.Delta.Composed([t,r],n)},onFalse:function d(e,t){throw new l.CompositionError(e,t)},onDefault:"onFalse"});e.Delta.composed=function h(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++){r[n]=arguments[n]}var i=undefined,a=undefined;if(!(r[r.length-1]instanceof e.Delta)&&typeof r[r.length-1]!=="undefined"){a=r.slice(0,r.length-1);i=r[r.length-1]}else{a=r;i={}}return a.map(function(t){return t||new e.Delta.NoOp}).reduce(function(t,r){return e.Delta._binaryComposed(t,r,i)},new e.Delta.NoOp)};r("refinement","refines","refines",{onTrue:function p(e,t){return true},onFalse:function y(e,t){return false},onDefault:function g(e,t,r){return e.equals(t,r)}});r("equality","equal","equals",{onTrue:function m(e,t){return true},onFalse:function w(e,t){return false},onDefault:function b(e,t,r){if(n("refinement",e,t)){return e.refines(t,r)&&t.refines(e,r)}else{return e.type===t.type&&s.arraysEqual(e.args,t.args)}},commutative:true});r("commutation","commute","commutesWith",{onTrue:function x(e,t){return true},onFalse:function O(e,t){return false},onDefault:function _(e,t,r){return e.composedWith(t,r).equals(t.composedWith(e,r),r)},commutative:true});r("resolution","resolves","resolves",{onTrue:function E(e,t,r){return true},onFalse:function P(e,t,r){return false},onDefault:function k(t,r,n,i){return e.Delta.composed(r,n,t,i).equals(e.Delta.composed(n,r,t,i),i)},arity:3,commutative:true});v["default"](e)});e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}};var i=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var o=function v(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(n===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return v(i,t,r)}}else if("value"in n){return n.value}else{var a=n.get;if(a===undefined){return undefined}return a.call(r)}};var u=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)e.__proto__=t};Object.defineProperty(t,"__esModule",{value:true});var s=r(3);var f=r(9);var l=n(f);var c=r(7);t["default"]=s.oncePer("Overloaded",function(e){l["default"](e);e.newOperationType("Overloaded",function(e){function t(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++){r[n]=arguments[n]}i(this,t);o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,r);this.overloads=this.arg||[]}u(t,e);a(t,[{key:"clone",value:function r(){var e=o(Object.getPrototypeOf(t.prototype),"clone",this).call(this);e.overloads=this.overloads.map(function(e){return e.clone()});return e}},{key:"precondition",value:function n(e,t){var r=[];var n=this.overloads.some(function(n){var i=n.evaluatePrecondition(e,t);if(i!==true){r.push(i);return false}return true});if(!n){if(r.length===0){return new c.NoOverloadsApplicationError(this,e.value)}else if(r.length===1){return r[0]}else{return new c.MultipleOverloadsApplicationError(this,e.value,r)}}return true}},{key:"applyTo",value:function f(e){var t=arguments[1]===undefined?{}:arguments[1];var r=[];var n=this.overloads.some(function(n){var i=n.evaluatePrecondition(e);if(i!==true){r.push(i);return false}n.applyTo(e,t);return true});if(!n){if(r.length===0){throw new c.NoOverloadsApplicationError(this,e.value)}else if(r.length===1){throw r[0]}else{throw new c.MultipleOverloadsApplicationError(this,e.value,r)}}}},{key:"toString",value:function l(){var e=arguments[0]===undefined?{}:arguments[0];var r=o(Object.getPrototypeOf(t.prototype),"toString",this).call(this,e);var n=this.overloads.map(function(t){return t.toString(e)}).join("\n");r+="\n"+s.indent(n,4);return r}}]);return t}(e.Delta));e.newComposition(function(t,r){return t instanceof e.Delta.Overloaded||r instanceof e.Delta.Overloaded},function(t,r,n){var i=t instanceof e.Delta.Overloaded?t.overloads:[t];var a=r instanceof e.Delta.Overloaded?r.overloads:[r];var o=new e.Delta.Overloaded;var u=[];var s=true;var f=false;var l=undefined;try{for(var v=i[Symbol.iterator](),d;!(s=(d=v.next()).done);s=true){var h=d.value;var p=true;var y=false;var g=undefined;try{for(var m=a[Symbol.iterator](),w;!(p=(w=m.next()).done);p=true){var b=w.value;try{o.overloads.push(h.composedWith(b,n))}catch(x){u.push(x)}}}catch(O){y=true;g=O}finally{try{if(!p&&m["return"]){m["return"]()}}finally{if(y){throw g}}}}}catch(O){f=true;l=O}finally{try{if(!s&&v["return"]){v["return"]()}}finally{if(f){throw l}}}if(o.overloads.length===0){throw new c.MultipleOverloadsCompositionError(t,r,u)}return o});e.newEquality(s.t("Overloaded","Overloaded"),function(e,t,r){return s.arraysEqual(e.overloads,t.overloads,function(e,t){return e.equals(t,r)})});e.newCommutation(s.t("Overloaded","Overloaded"),function(e,t,r){for(var n=0;n<e.overloads.length;++n){if(!e.overloads[n].commutesWith(t.overloads[n],r)){return false}}return true})});e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}};var i=function(e,t){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done);n=true){r.push(u.value);if(t&&r.length===t)break}}catch(s){i=true;a=s}finally{try{if(!n&&o["return"])o["return"]()}finally{if(i)throw a}}return r}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}};var a=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var u=function p(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(n===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return p(i,t,r)}}else if("value"in n){return n.value}else{var a=n.get;if(a===undefined){return undefined}return a.call(r)}};var s=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)e.__proto__=t};Object.defineProperty(t,"__esModule",{value:true});var f=r(3);var l=r(6);var c=n(l);var v=r(5);var d=r(19);var h=n(d);t["default"]=f.oncePer("Modify",function(e){h["default"](e);e.newOperationType("Modify",function(e){function t(){var e=this;for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}a(this,t);u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n);this.subDeltas=new Map(this.arg&&Object.keys(this.arg).map(function(t){return[t,e.arg[t]]}))}s(t,e);o(t,[{key:"clone",value:function r(){var e=u(Object.getPrototypeOf(t.prototype),"clone",this).call(this);var r=true;var n=false;var a=undefined;try{for(var o=this.subDeltas[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){var f=i(s.value,2);var l=f[0];var c=f[1];e.subDeltas.set(l,c.clone())}}catch(v){n=true;a=v}finally{try{if(!r&&o["return"]){o["return"]()}}finally{if(n){throw a}}}return e}},{key:"precondition",value:function n(e){var t=arguments[1]===undefined?{}:arguments[1];if(!(e.value instanceof Object)){return false}var r=true;var n=false;var a=undefined;try{for(var o=this.subDeltas[Symbol.iterator](),u;!(r=(u=o.next()).done);r=true){var s=i(u.value,2);var l=s[0];var c=s[1];if(!t.restrictToProperty||t.restrictToProperty===l){var d=c.evaluatePrecondition(v.wt(e.value,l),f.extend({},t,{restrictToProperty:null}));if(d!==true){return d}}}}catch(h){n=true;a=h}finally{try{if(!r&&o["return"]){o["return"]()}}finally{if(n){throw a}}}return true}},{key:"applyTo",value:function l(e){var t=arguments[1]===undefined?{}:arguments[1];var r=true;var n=false;var a=undefined;try{for(var o=this.subDeltas[Symbol.iterator](),u;!(r=(u=o.next()).done);r=true){var s=i(u.value,2);var l=s[0];var c=s[1];if(!t.restrictToProperty||t.restrictToProperty===l){c.applyTo(v.wt(e.value,l),f.extend({},t,{restrictToProperty:null}))}}}catch(d){n=true;a=d}finally{try{if(!r&&o["return"]){o["return"]()}}finally{if(n){throw a}}}}},{key:"toString",value:function c(){var e=arguments[0]===undefined?{}:arguments[0];var r=u(Object.getPrototypeOf(t.prototype),"toString",this).call(this,e);if(this.subDeltas.size>0){var n=this.subDeltas.entries().map(function(t){var r=i(t,2);var n=r[0];var a=r[1];return a.toString(f.extend({},e,{targetProp:n}))}).join("\n");r+="\n"+f.indent(n,4)}return r}}]);return t}(e.Delta),function(t){function r(){a(this,r);if(t!=null){t.apply(this,arguments)}}s(r,t);o(r,[{key:"processProxyArguments",value:function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}var n={};do{if(t.length===0){throw new Error("The argument list for this Modify.Proxy method is insufficient.")}var i=t.shift();if(typeof i==="string"){n.path=i}else{f.extend(n,i)}}while(!n.path);return{options:n,args:t}}},{key:"addOperation",value:function i(t,r){var n=r.path;if(!n.prop){throw new Error("Operations on a Modify.Proxy need to have a non-empty path.")}var i;if(n.rest){var a=f.extend({},r,{path:n.rest});var o=this.addChildProxy(n.prop,new e.Delta.Modify);i=o.addOperation(t,a)}else{i=this.addChildProxy(n.prop,t)}return i}},{key:"delta",value:function l(){var e=u(Object.getPrototypeOf(r.prototype),"delta",this).call(this);var t=true;var n=false;var i=undefined;try{for(var a=this.childKeys()[Symbol.iterator](),o;!(t=(o=a.next()).done);t=true){var s=o.value;e.subDeltas.set(s,this.childDelta(s))}}catch(f){n=true;i=f}finally{try{if(!t&&a["return"]){a["return"]()}}finally{if(n){throw i}}}return e}}]);return r}(e.ContainerProxy));e.newComposition(f.t("Modify","Modify"),function(t,r,n){var i=t.clone();var a=true;var o=false;var u=undefined;try{for(var s=r.subDeltas.keys()[Symbol.iterator](),f;!(a=(f=s.next()).done);a=true){var l=f.value;i.subDeltas.set(l,e.Delta.composed(i.subDeltas.get(l),r.subDeltas.get(l),n))}}catch(c){o=true;u=c}finally{try{if(!a&&s["return"]){s["return"]()}}finally{if(o){throw u}}}return i});e.newEquality(f.t("Modify","Modify"),function(e,t){return f.mapEqual(e.subDeltas,t.subDeltas,function(e,t){return e.equals(t)})});e.newCommutation(f.t("Modify","Modify"),function(e,t,r){var n=true;var i=false;var a=undefined;try{for(var o=e.subDeltas.keys()[Symbol.iterator](),u;!(n=(u=o.next()).done);n=true){var s=u.value;if(t.subDeltas.has(s)){var f=e.subDeltas.get(s);var l=t.subDeltas.get(s);if(!f.commutesWith(l,r)){return false}}}}catch(c){i=true;a=c}finally{try{if(!n&&o["return"]){o["return"]()}}finally{if(i){throw a}}}return true})});e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}};var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var a=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var o=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)e.__proto__=t};Object.defineProperty(t,"__esModule",{value:true});var u=r(3);var s=r(5);var f=r(9);var l=n(f);var c=r(11);var v=n(c);t["default"]=u.oncePer("basic operations",function(e){l["default"](e);v["default"](e);e.newOperationType("NoOp",function(e){function t(){a(this,t);

if(e!=null){e.apply(this,arguments)}}o(t,e);return t}(e.Delta));e.newOperationType("Add",function(e){function t(){a(this,t);if(e!=null){e.apply(this,arguments)}}o(t,e);i(t,[{key:"precondition",value:function r(e,t){var r=t.weak;return e instanceof s.WritableTarget&&(r||u.isUndefined(e.value))}},{key:"applyTo",value:function n(e){e.value=this.arg}}]);return t}(e.Delta));e.newOperationType("Remove",function(e){function t(){a(this,t);if(e!=null){e.apply(this,arguments)}}o(t,e);i(t,[{key:"precondition",value:function r(e,t){var r=t.weak;return e instanceof s.WritableTarget&&(r||u.isDefined(e.value))}},{key:"applyTo",value:function n(e){e["delete"]()}}]);return t}(e.Delta));e.newOperationType("Forbid",function(e){function t(){a(this,t);if(e!=null){e.apply(this,arguments)}}o(t,e);i(t,[{key:"precondition",value:function r(e,t){var r=t.weak;return r||u.isUndefined(e.value)}}]);return t}(e.Delta));e.newOperationType("Replace",function(e){function t(){a(this,t);if(e!=null){e.apply(this,arguments)}}o(t,e);i(t,[{key:"precondition",value:function r(e,t){var r=t.weak;return e instanceof s.WritableTarget&&(r||u.isDefined(e.value))}},{key:"applyTo",value:function n(e){e.value=this.arg}}]);return t}(e.Delta));e.newOperationType("Update",function(e){function t(){a(this,t);if(e!=null){e.apply(this,arguments)}}o(t,e);i(t,[{key:"precondition",value:function r(e,t){var r=t.weak;return e instanceof s.WritableTarget&&(r||u.isDefined(e.value))}},{key:"applyTo",value:function n(e){e.value=this.arg(e.value)}}]);return t}(e.Delta));e.newComposition(function(t,r){return t instanceof e.Delta.NoOp},function(e,t){return t.clone()});e.newComposition(function(t,r){return r instanceof e.Delta.NoOp},function(e,t){return e.clone()});var t=u.define_d(e);e.newComposition(u.t("Add","Modify"),t("Add",function(e){var t=e.d2;var r=e.p1;return t.appliedTo(r)}));e.newComposition(u.t("Modify","Add"),false);e.newComposition(function(e,t){return t.type==="Add"},t("Add",function(e){var t=e.p2;return t}),{weak:true});e.newComposition(u.t("Add","Add"),false);e.newComposition(u.t("Modify","Remove"),t("Remove"));e.newComposition(u.t("Add","Remove"),t("Forbid"));e.newComposition(u.t("Remove","Modify"),false);e.newComposition(u.t("Remove","Add"),t("Replace",function(e){var t=e.p2;return t}));e.newComposition(function(e,t){return t.type==="Remove"},t("Remove"),{weak:true});e.newComposition(u.t("Remove","Remove"),false);e.newComposition(function(e,t){return e.type==="Forbid"},function(e,t){return t.clone()},{weak:true});e.newComposition(function(e,t){return t.type==="Forbid"},function(e,t){return e.clone()},{weak:true});e.newComposition(u.t("Modify","Forbid"),false);e.newComposition(u.t("Add","Forbid"),false);e.newComposition(u.t("Remove","Forbid"),t("Remove"));e.newComposition(u.t("Forbid","Modify"),false);e.newComposition(u.t("Forbid","Add"),t("Add",function(e){var t=e.p2;return t}));e.newComposition(u.t("Forbid","Remove"),false);e.newComposition(u.t("Forbid","Forbid"),t("Forbid"));e.newComposition(u.t("Modify","Replace"),t("Replace",function(e){var t=e.p2;return t}));e.newComposition(u.t("Add","Replace"),t("Add",function(e){var t=e.p2;return t}));e.newComposition(u.t("Remove","Replace"),false);e.newComposition(u.t("Forbid","Replace"),false);e.newComposition(u.t("Replace","Modify"),t("Replace",function(e){var t=e.d2;var r=e.p1;return t.appliedTo(r)}));e.newComposition(u.t("Replace","Add"),false);e.newComposition(u.t("Replace","Remove"),t("Remove"));e.newComposition(u.t("Replace","Forbid"),false);e.newComposition(u.t("Replace","Replace"),t("Replace",function(e){var t=e.p2;return t}));e.newComposition(u.t("Modify","Update"),true);e.newComposition(u.t("Add","Update"),t("Add",function(e){var t=e.d2;var r=e.p1;return t.appliedTo(r)}));e.newComposition(u.t("Remove","Update"),true);e.newComposition(u.t("Forbid","Update"),true);e.newComposition(u.t("Replace","Update"),t("Replace",function(e){var t=e.d2;var r=e.p1;return t.appliedTo(r)}));e.newComposition(u.t("Update","Modify"),true);e.newComposition(u.t("Update","Add"),true);e.newComposition(u.t("Update","Remove"),t("Remove"));e.newComposition(u.t("Update","Forbid"),true);e.newComposition(u.t("Update","Replace"),t("Replace",function(e){var t=e.p2;return t}));e.newComposition(u.t("Update","Update"),t("Update",function(e){var t=e.p1;var r=e.p2;return function(e){return r(t(e))}}))});e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}};var i=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else{return Array.from(e)}};var a=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var u=function y(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(n===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return y(i,t,r)}}else if("value"in n){return n.value}else{var a=n.get;if(a===undefined){return undefined}return a.call(r)}};var s=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)e.__proto__=t};Object.defineProperty(t,"__esModule",{value:true});var f=r(3);var l=r(11);var c=n(l);var v=r(12);var d=n(v);var h=r(22);var p=n(h);t["default"]=f.oncePer("PutIntoArray",function(e){c["default"](e);d["default"](e);p["default"](e);e.newOperationType("PutIntoArray",function(e){function t(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++){r[n]=arguments[n]}a(this,t);u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,r);this.values=this.arg?Array.isArray(this.arg)?this.arg:[this.arg]:[]}s(t,e);o(t,[{key:"clone",value:function r(){var e=u(Object.getPrototypeOf(t.prototype),"clone",this).call(this);e.values=[].concat(i(this.values));return e}},{key:"precondition",value:function n(e,t){var r=t.weak;return r||f.isDefined(e.value)&&Array.isArray(e.value)}},{key:"applyTo",value:function l(e){var t=e.value;var r=true;var n=false;var i=undefined;try{for(var a=this.values[Symbol.iterator](),o;!(r=(o=a.next()).done);r=true){var u=o.value;var s=u.method;var f=u.value;switch(s){case"prepend":{t.unshift(f)}break;case"insert":{var l=Math.floor(Math.random()*(t.length+1));t.splice(l,0,f)}break;case"append":{t.push(f)}break}}}catch(c){n=true;i=c}finally{try{if(!r&&a["return"]){a["return"]()}}finally{if(n){throw i}}}}},{key:"methods",get:function(){return[]}}]);return t}(e.Delta));e.newProxyMethod("prepend",function(t){return new e.Delta.PutIntoArray({method:"prepend",value:t})});e.newProxyMethod("insert",function(t){return new e.Delta.PutIntoArray({method:"insert",value:t})});e.newProxyMethod("append",function(t){return new e.Delta.PutIntoArray({method:"append",value:t})});var t=f.define_d(e);e.newComposition(f.t("Modify","PutIntoArray"),false);e.newComposition(f.t("Add","PutIntoArray"),t("Add",function(e){var t=e.d2;var r=e.p1;return t.appliedTo(r)}));e.newComposition(f.t("Remove","PutIntoArray"),false);e.newComposition(f.t("Forbid","PutIntoArray"),false);e.newComposition(f.t("Replace","PutIntoArray"),t("Replace",function(e){var t=e.d2;var r=e.p1;return t.appliedTo(r)}));e.newComposition(f.t("Update","PutIntoArray"),true);e.newComposition(f.t("PutIntoArray","Modify"),false);e.newComposition(f.t("PutIntoArray","Add"),false);e.newComposition(f.t("PutIntoArray","Remove"),t("Remove"));e.newComposition(f.t("PutIntoArray","Forbid"),false);e.newComposition(f.t("PutIntoArray","Replace"),t("Replace",function(e){var t=e.p2;return t}));e.newComposition(f.t("PutIntoArray","Update"),true);e.newComposition(f.t("PutIntoArray","PutIntoArray"),function(t,r){return new e.Delta.PutIntoArray([].concat(i(t.values),i(r.values)))});e.newRefinement(f.t("PutIntoArray","PutIntoArray"),function(e,t){var r=function l(e,t){return e.method===t.method&&e.value===t.value};if(!f.arraysHaveSameElements(e.values,t.values,r)){return false}if(!f.arraysEqual(e.values.filter(function(e){return e.method==="append"}),t.values.filter(function(e){return e.method==="append"}),r)){return false}if(!f.arraysEqual(e.values.filter(function(e){return e.method==="prepend"}),t.values.filter(function(e){return e.method==="prepend"}),r)){return false}var n=[];for(var i=0;i<e.values.length;++i){if(e.values[i].method==="insert"){var a=f.customIndexOf(t.values,e.values[i],r);var o=[].concat(n);for(var u=0;u<=a;++u){var s=f.customIndexOf(o,t.values[u],r);if(s>-1){o.splice(s,1)}}if(o.length>0){return false}}else{n.push(e.values[i])}}return true});e.newCommutation(f.t("PutIntoArray","PutIntoArray"),function(e,t,r){return true},{weak:true})});e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}};var i=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else{return Array.from(e)}};var a=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var u=function g(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(n===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return g(i,t,r)}}else if("value"in n){return n.value}else{var a=n.get;if(a===undefined){return undefined}return a.call(r)}};var s=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)e.__proto__=t};Object.defineProperty(t,"__esModule",{value:true});var f=r(3);var l=r(5);var c=r(11);var v=n(c);var d=r(12);var h=n(d);var p=r(22);var y=n(p);t["default"]=f.oncePer("PutIntoFunction",function(e){v["default"](e);h["default"](e);y["default"](e);var t=Symbol("DeltaJs:function-parts");e.newOperationType("PutIntoFunction",function(e){function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}a(this,r);u(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,t);this.values=this.arg?Array.isArray(this.arg)?this.arg:[this.arg]:[]}s(r,e);o(r,[{key:"clone",value:function n(){var e=u(Object.getPrototypeOf(r.prototype),"clone",this).call(this);e.values=[].concat(i(this.values));return e}},{key:"precondition",value:function c(e){return f.isDefined(e.value)&&typeof e.value==="function"&&(f.isDefined(e.value[t])||e instanceof l.WritableTarget)}},{key:"applyTo",value:function v(e){if(f.isUndefined(e.value[t])){var r=e.value;var n=function(e){function t(t){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}(function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++){r[i]=arguments[i]}var a=undefined;var o=true;var u=false;var s=undefined;try{for(var f=n[t][Symbol.iterator](),l;!(o=(l=f.next()).done);o=true){var c=l.value;a=c.apply(this,r)}}catch(v){u=true;s=v}finally{try{if(!o&&f["return"]){f["return"]()}}finally{if(u){throw s}}}return a});n[t]=[function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}r.apply(this,t)}];e.value=n}var i=e.value[t];var a=true;var o=false;var u=undefined;try{for(var s=this.values[Symbol.iterator](),l;!(a=(l=s.next()).done);a=true){var c=l.value;var v=c.method;var d=c.value;switch(v){case"prepend":{i.unshift(d)}break;case"insert":{var h=Math.floor(Math.random()*(i.length+1));i.splice(h,0,d)}break;case"append":{i.push(d)}break}}}catch(p){o=true;u=p}finally{try{if(!a&&s["return"]){s["return"]()}}finally{if(o){throw u}}}}},{key:"methods",get:function(){return[]}}]);return r}(e.Delta));e.newProxyMethod("prepend",function(t){return new e.Delta.PutIntoFunction({method:"prepend",value:t})});e.newProxyMethod("insert",function(t){return new e.Delta.PutIntoFunction({method:"insert",value:t})});e.newProxyMethod("append",function(t){return new e.Delta.PutIntoFunction({method:"append",value:t})});var r=f.define_d(e);e.newComposition(f.t("Modify","PutIntoFunction"),false);e.newComposition(f.t("Add","PutIntoFunction"),r("Add",function(e){var t=e.d2;var r=e.p1;return t.appliedTo(r)}));e.newComposition(f.t("Remove","PutIntoFunction"),false);e.newComposition(f.t("Forbid","PutIntoFunction"),false);e.newComposition(f.t("Replace","PutIntoFunction"),r("Replace",function(e){var t=e.d2;var r=e.p1;return t.appliedTo(r)}));e.newComposition(f.t("Update","PutIntoFunction"),true);e.newComposition(f.t("PutIntoFunction","Modify"),false);e.newComposition(f.t("PutIntoFunction","Add"),false);e.newComposition(f.t("PutIntoFunction","Remove"),r("Remove"));e.newComposition(f.t("PutIntoFunction","Forbid"),false);e.newComposition(f.t("PutIntoFunction","Replace"),r("Replace",function(e){var t=e.p2;return t}));e.newComposition(f.t("PutIntoFunction","Update"),true);e.newComposition(f.t("PutIntoFunction","PutIntoFunction"),function(t,r){return new e.Delta.PutIntoFunction([].concat(i(t.values),i(r.values)))});e.newEquality(f.t("PutIntoFunction","PutIntoFunction"),function(e,t){return f.arraysEqual(e.values,t.values,function(e,t){return e.method===t.method&&e.value&&t.value})});e.newCommutation(f.t("PutIntoFunction","PutIntoFunction"),function(e,t){return true},{weak:true})});e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}};var i=function(e,t){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done);n=true){r.push(u.value);if(t&&r.length===t)break}}catch(s){i=true;a=s}finally{try{if(!n&&o["return"])o["return"]()}finally{if(i)throw a}}return r}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}};var a=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else{return Array.from(e)}};var o=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var s=function b(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(n===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return b(i,t,r)}}else if("value"in n){return n.value}else{var a=n.get;if(a===undefined){return undefined}return a.call(r)}};var f=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)e.__proto__=t};Object.defineProperty(t,"__esModule",{value:true});var l=r(23);var c=n(l);var v=r(3);var d=r(6);var h=n(d);var p=r(11);var y=n(p);var g=r(19);var m=n(g);var w=r(7);t["default"]=v.oncePer("DeltaModel",function(e){m["default"](e);e.newOperationType("DeltaModel",function(e){function t(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++){r[n]=arguments[n]}o(this,t);s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,r);this.graph=new c["default"]}f(t,e);u(t,[{key:"clone",value:function r(){var e=s(Object.getPrototypeOf(t.prototype),"clone",this).call(this);e.graph=this.graph.clone(function(e){return e.clone()});return e}},{key:"_assertNoUnresolvedConflicts",value:function n(){var e=true;var t=false;var r=undefined;try{for(var n=this.conflicts()[Symbol.iterator](),i;!(e=(i=n.next()).done);e=true){var a=i.value;if(a.conflictResolvingDeltas.size===0){throw new w.UnresolvedDeltaConflict(a.conflictingDeltas)}}}catch(o){t=true;r=o}finally{try{if(!e&&n["return"]){n["return"]()}}finally{if(t){throw r}}}}},{key:"precondition",value:function l(e,t){var r=true;var n=false;var o=undefined;try{for(var u=this.graph.vertices()[Symbol.iterator](),s;!(r=(s=u.next()).done);r=true){var f=i(s.value,2);var l=f[0];var c=f[1];if([].concat(a(this.graph.verticesTo(l))).length===0){var v=c.evaluatePrecondition(e,t);if(v!==true){return v}}}}catch(d){n=true;o=d}finally{try{if(!r&&u["return"]){u["return"]()}}finally{if(n){throw o}}}return true}},{key:"applyTo",value:function d(e){var t=arguments[1]===undefined?{}:arguments[1];this._assertNoUnresolvedConflicts();var r=true;var n=false;var a=undefined;try{for(var o=this.graph.vertices_topologically()[Symbol.iterator](),u;!(r=(u=o.next()).done);r=true){var s=i(u.value,2);var f=s[1];f.applyTo(e,v.extend({},t,{weak:true}))}}catch(l){n=true;a=l}finally{try{if(!r&&o["return"]){o["return"]()}}finally{if(n){throw a}}}}},{key:"toString",value:function h(){var e=arguments[0]===undefined?{}:arguments[0];var r=s(Object.getPrototypeOf(t.prototype),"toString",this).call(this,e);if(this.graph.vertexCount()>0){var n="";var a=true;var o=false;var u=undefined;try{for(var f=this.graph.vertices_topologically()[Symbol.iterator](),l;!(a=(l=f.next()).done);a=true){var c=i(l.value,2);var d=c[0];var h=c[1];n+="["+d+"] "+h.toString(e)+"\n"}}catch(p){o=true;u=p}finally{try{if(!a&&f["return"]){f["return"]()}}finally{if(o){throw u}}}r+="\n"+v.indent(n,4)}return r}},{key:"conflicts",value:function p(){var e=this.graph.clone();var t="(sink)";while(e.hasVertex(t)){t=""+t+"'"}e.addNewVertex(t,null);var r=true;var n=false;var o=undefined;try{for(var u=e.vertices()[Symbol.iterator](),s;!(r=(s=u.next()).done);r=true){var f=i(s.value,1);var l=f[0];e.setVertex(l,null);if(l!==t){e.ensureEdge(l,t)}}}catch(c){n=true;o=c}finally{try{if(!r&&u["return"]){u["return"]()}}finally{if(n){throw o}}}e=e.transitiveReduction();var d=new Map;var h=function(e){function t(t){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}(function(t){if(e.vertexValue(t)){return}var r=new Map;var n=true;var o=false;var u=undefined;try{for(var s=e.verticesTo(t)[Symbol.iterator](),f;!(n=(f=s.next()).done);n=true){var l=i(f.value,1);var c=l[0];h(c);var p=new Set([c]);var y=true;var g=false;var m=undefined;try{for(var w=e.vertexValue(c).values()[Symbol.iterator](),b;!(y=(b=w.next()).done);y=true){var x=b.value;var O=true;var _=false;var E=undefined;try{for(var P=x.values()[Symbol.iterator](),k;!(O=(k=P.next()).done);O=true){var S=k.value;p.add(S)}}catch(j){_=true;E=j}finally{try{if(!O&&P["return"]){P["return"]()}}finally{if(_){throw E}}}}}catch(j){g=true;m=j}finally{try{if(!y&&w["return"]){w["return"]()}}finally{if(g){throw m}}}r.set(c,p)}}catch(j){o=true;u=j}finally{try{if(!n&&s["return"]){s["return"]()}}finally{if(o){throw u}}}e.setVertex(t,r);var A=true;var C=false;var D=undefined;try{for(var M=r.keys()[Symbol.iterator](),T;!(A=(T=M.next()).done);A=true){var F=T.value;var I=true;var R=false;var N=undefined;try{for(var V=r.keys()[Symbol.iterator](),U;!(I=(U=V.next()).done);I=true){var L=U.value;if(F<L){var W=new Set(r.get(F));var q=new Set(r.get(L));var z=true;var G=false;var K=undefined;try{for(var Y=W[Symbol.iterator](),B;!(z=(B=Y.next()).done);z=true){var $=B.value;var H=true;var J=false;var X=undefined;try{for(var Z=q[Symbol.iterator](),Q;!(H=(Q=Z.next()).done);H=true){var ee=Q.value;if($===ee){W["delete"]($);q["delete"](ee)}}}catch(j){J=true;X=j}finally{try{if(!H&&Z["return"]){Z["return"]()}}finally{if(J){throw X}}}}}catch(j){G=true;K=j}finally{try{if(!z&&Y["return"]){Y["return"]()}}finally{if(G){throw K}}}var te=true;var re=false;var ne=undefined;try{for(var ie=W[Symbol.iterator](),ae;!(te=(ae=ie.next()).done);te=true){var $=ae.value;var oe=true;var ue=false;var se=undefined;try{for(var fe=q[Symbol.iterator](),le;!(oe=(le=fe.next()).done);oe=true){var ee=le.value;v.s.apply(undefined,[d].concat(a([$,ee].sort()))).add(t)}}catch(j){ue=true;se=j}finally{try{if(!oe&&fe["return"]){fe["return"]()}}finally{if(ue){throw se}}}}}catch(j){re=true;ne=j}finally{try{if(!te&&ie["return"]){ie["return"]()}}finally{if(re){throw ne}}}}}}catch(j){R=true;N=j}finally{try{if(!I&&V["return"]){V["return"]()}}finally{if(R){throw N}}}}}catch(j){C=true;D=j}finally{try{if(!A&&M["return"]){M["return"]()}}finally{if(C){throw D}}}});h(t);var p=new Set;var y=true;var g=false;var m=undefined;try{for(var w=d.keys()[Symbol.iterator](),b;!(y=(b=w.next()).done);y=true){var x=b.value;var O=true;var _=false;var E=undefined;try{for(var P=d.get(x).keys()[Symbol.iterator](),k;!(O=(k=P.next()).done);O=true){var S=k.value;var j=this.graph.vertexValue(x);var A=this.graph.vertexValue(S);if(!j.commutesWith(A,{weak:true})){var C={conflictingDeltas:new Set([x,S]),conflictResolvingDeltas:new Set};var D=true;var M=false;var T=undefined;try{for(var F=d.get(x).get(S)[Symbol.iterator](),I;!(D=(I=F.next()).done);D=true){var R=I.value;var N=[[R]].concat(a(e.verticesWithPathFrom(R)));for(var V=0;V<N.length;V++){var U=i(N[V],1);var L=U[0];var W=this.graph.vertexValue(L);if(L!==t&&W.resolves(j,A,{weak:true})){C.conflictResolvingDeltas.add(L)}}}}catch(c){M=true;T=c}finally{try{if(!D&&F["return"]){F["return"]()}}finally{if(M){throw T}}}p.add(C)}}}catch(c){_=true;E=c}finally{try{if(!O&&P["return"]){P["return"]()}}finally{if(_){throw E}}}}}catch(c){g=true;m=c}finally{try{if(!y&&w["return"]){w["return"]()}}finally{if(g){throw m}}}return p}}]);return t}(e.Delta),function(t){function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}o(this,r);s(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,t);this._childOptions=new Map;this._childApplicationConditions=new Map}f(r,t);u(r,[{key:"processProxyArguments",value:function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}var n={};do{if(t.length===0){throw new Error("The argument list for this Modify.DeltaModel method is insufficient.")}var i=t.shift();if(typeof i==="string"){if(!n.name){n.name=i}else{n.path=i}}else{v.extend(n,i)}}while(!n.path||!n.name);return{options:n,args:t}}},{key:"addOperation",value:function i(t,r){var n=r.path;var i=r.name;var a=r.feature;if(!this._childApplicationConditions.has(i)){var o=undefined;if(a){o=e.newFeature(i,r)}else{o=e.newFeature("delta__"+i,v.extend({hidden:true},r))}if(v.isDefined(r.resolves)){o["if"](r.resolves);r=v.extend({},r,{feature:false})}if(v.isDefined(r.requires)){o.selects(r.requires)}if(a||o.conditional){t.applicationCondition=o}this._childApplicationConditions.set(i,o)}var u;if(n.prop){var s=v.extend({},r,{name:undefined});var f=this.addChildProxy(i,new e.Delta.Modify);u=f.addOperation(t,s)}else{u=this.addChildProxy(i,t)}if(!this._childOptions.has(i)){this._childOptions.set(i,r)}return u}},{key:"delta",value:function l(){var e=s(Object.getPrototypeOf(r.prototype),"delta",this).call(this);e.graph.clear();var t=true;var n=false;var i=undefined;try{for(var o=this.childKeys()[Symbol.iterator](),u;!(t=(u=o.next()).done);t=true){var f=u.value;var c=this._childOptions.get(f);var l=this.childDelta(f);e.graph.addVertex(f,l);var v=[].concat(a(c.resolves||[]),a(c.after||[]),a(c.requires||[]));for(var d=0;d<v.length;d++){var h=v[d];e.graph.createEdge(h,f);var p=e.graph.cycle();if(p){e.graph.removeExistingEdge(h,f);throw new w.ApplicationOrderCycle(p)}}if(c.feature||this._childApplicationConditions.get(f).conditional){l.applicationCondition=this._childApplicationConditions.get(f)}}}catch(y){n=true;i=y}finally{try{if(!t&&o["return"]){o["return"]()}}finally{if(n){throw i}}}return e}}]);return r}(e.ContainerProxy));e.newComposition(function(t,r){return t instanceof e.Delta.DeltaModel||r instanceof e.Delta.DeltaModel},true);e.newEquality(v.t("DeltaModel","DeltaModel"),function(e,t){var r=e.graph.transitiveReduction();var n=t.graph.transitiveReduction();return r.equals(n,function(e,t){return e.equals(t)})})});e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e,t){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done);n=true){r.push(u.value);if(t&&r.length===t)break}}catch(s){i=true;a=s}finally{try{if(!n&&o["return"])o["return"]()}finally{if(i)throw a}}return r}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}};var i=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();Object.defineProperty(t,"__esModule",{value:true});var o=r(3);var u=r(7);t["default"]=o.oncePer("features",function(e){o.oncePer(e.constructor,"features",function(e){o.extend(e.prototype,{newFeature:function t(e){var t=arguments[1]===undefined?{}:arguments[1];o.assert(o.isUndefined(this.features[e]),"A feature with the name '"+e+"' already exists.");return this.features[e]=new this.Feature(e,t)}})});function t(t){t=Array.isArray(t)?t:[t];t=t.map(function(t){return t instanceof e.Feature?t.name:t});return t}var r=new Map;var s=new Map;function f(e){var n=arguments[1]===undefined?[]:arguments[1];p=true;if(n===true){s.set(e,true)}else if(n===false){}else if(r.get(e)!==true){o.a(r,e).push(t(n))}}function l(e,r){var n=true;var i=false;var a=undefined;try{for(var o=t(r)[Symbol.iterator](),u;!(n=(u=o.next()).done);n=true){var s=u.value;f(s,e)}}catch(l){i=true;a=l}finally{try{if(!n&&o["return"]){o["return"]()}}finally{if(i){throw a}}}}var c=new Map;var v=new Map;function d(e){var r=arguments[1]===undefined?[]:arguments[1];p=true;if(r===false){v.set(e,false)}else if(r===true){}else if(c.get(e)!==false){o.a(c,e).push(t(r))}}function h(e,r){var n=true;var i=false;var a=undefined;try{for(var o=t(r)[Symbol.iterator](),u;!(n=(u=o.next()).done);n=true){var s=u.value;d(s,e)}}catch(f){i=true;a=f}finally{try{if(!n&&o["return"]){o["return"]()}}finally{if(i){throw a}}}}var p=false;function y(){if(!p){return}p=false;var t;do{t=false;var n=true;var i=false;var a=undefined;try{for(var o=Object.keys(e.features)[Symbol.iterator](),u;!(n=(u=o.next()).done);n=true){var f=u.value;if(!s.get(f)){if(s.has(f)){s.set(f,false)}if((r.get(f)||[]).some(function(e){return e.every(function(e){return s.get(e)})})){s.set(f,true);t=true}}}}catch(l){i=true;a=l}finally{try{if(!n&&o["return"]){o["return"]()}}finally{if(i){throw a}}}}while(t);var d=true;var h=false;var y=undefined;try{for(var g=Object.keys(e.features)[Symbol.iterator](),m;!(d=(m=g.next()).done);d=true){var f=m.value;v.set(f,(c.get(f)||[]).every(function(e){return e.some(function(e){return s.get(e)})}))}}catch(l){h=true;y=l}finally{try{if(!d&&g["return"]){g["return"]()}}finally{if(h){throw y}}}}e.Feature=function(){function e(t){var r=arguments[1]===undefined?{}:arguments[1];i(this,e);this.name=t;this.options=r;var n=true;var a=false;var o=undefined;try{for(var u=Object.keys(r)[Symbol.iterator](),s;!(n=(s=u.next()).done);n=true){var f=s.value;this.addOption(f,r[f])}}catch(l){a=true;o=l}finally{try{if(!n&&u["return"]){u["return"]()}}finally{if(a){throw o}}}}a(e,[{key:"selected",get:function(){y();if(s.get(this.name)&&!v.get(this.name)){throw new u.ConstraintFailure(this)}return s.get(this.name)}},{key:"condition",get:function(){return r.get(this.name)}},{key:"conditional",get:function(){return o.a(r,this.name).length>0}},{key:"restricted",get:function(){return o.a(c,this.name).length>0}},{key:"select",value:function t(){this["if"](true)}}]);return e}();var g=[["if",[f]],["onlyIf",[d]],["selects",[l]],["requiredBy",[h]],["iff",[f,d]]];e.Feature.prototype.addOption=function(e,t){var r=true;var i=false;var a=undefined;try{for(var o=g[Symbol.iterator](),u;!(r=(u=o.next()).done);r=true){var s=n(u.value,2);var f=s[0];var l=s[1];if(e===f){var c=true;var v=false;var d=undefined;try{for(var h=l[Symbol.iterator](),p;!(c=(p=h.next()).done);c=true){var y=p.value;y(this.name,t)}}catch(m){v=true;d=m}finally{try{if(!c&&h["return"]){h["return"]()}}finally{if(v){throw d}}}}}}catch(m){i=true;a=m}finally{try{if(!r&&o["return"]){o["return"]()}}finally{if(i){throw a}}}};var m=true;var w=false;var b=undefined;try{var x=function(){E=n(_.value,1);var t=E[0];e.Feature.prototype[t]=function(e){this.addOption(t,e)}};for(var O=g[Symbol.iterator](),_;!(m=(_=O.next()).done);m=true){var E;x()}}catch(P){w=true;b=P}finally{try{if(!m&&O["return"]){O["return"]()}}finally{if(w){throw b}}}e.features={}});e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}};var i=function(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:t==null||typeof Symbol=="undefined"||t.constructor!==Symbol,configurable:true,writable:true})};Object.defineProperty(t,"__esModule",{value:true});var a=r(3);var o=r(15);var u=n(o);t["default"]=a.oncePer("variation points",function(e){a.oncePer(e.constructor,"variation points",function(){u["default"](e);a.extend(e.constructor.prototype,{vp:function t(e,r){var n=i({},e,r);this._deltaModelProxy.delta().applyTo(n,{restrictToProperty:e});return n[e]},"do":function r(){var e;for(var t=arguments.length,r=Array(t),n=0;n<t;n++){r[n]=arguments[n]}return(e=this._deltaModelProxy)["do"].apply(e,[{feature:true}].concat(r))}})});e._deltaModelProxy=(new e.Delta.DeltaModel)["do"]()});e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else{return Array.from(e)}};Object.defineProperty(t,"__esModule",{value:true});var i=r(3);t["default"]=i.oncePer("application conditions",function(e){i.oncePer(e.constructor,"application conditions",function(){i.extend(e.constructor.prototype,{select:function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}var i=true;var a=false;var o=undefined;try{for(var u=t[Symbol.iterator](),s;!(i=(s=u.next()).done);i=true){var f=s.value;if(Array.isArray(f)){this.select.apply(this,n(f))}else{this.features[f].select()}}}catch(l){a=true;o=l}finally{try{if(!i&&u["return"]){u["return"]()}}finally{if(a){throw o}}}}})});i.extend(e.Delta.prototype,Object.defineProperties({},{applicationCondition:{get:function(){return this._applicationCondition},set:function(e){this._applicationCondition=e},configurable:true,enumerable:true},selected:{get:function(){return i.isUndefined(this.applicationCondition)||this.applicationCondition.selected},configurable:true,enumerable:true}}))});e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}};var i=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else{return Array.from(e)}};var a=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var u=function g(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(n===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return g(i,t,r)}}else if("value"in n){return n.value}else{var a=n.get;if(a===undefined){return undefined}return a.call(r)}};var s=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)e.__proto__=t;

};Object.defineProperty(t,"__esModule",{value:true});var f=r(3);var l=r(6);var c=n(l);var v=r(10);var d=n(v);var h=r(22);var p=n(h);var y=r(7);t["default"]=f.oncePer("ContainerProxy",function(e){p["default"](e);f.oncePer(e.constructor,"ContainerProxy",function(e){f.extend(e.prototype,{newProxyMethod:function t(e,r){this.ContainerProxy.newProxyMethod(e,r)}})});e.ContainerProxy=function(t){function r(){var e=arguments[0]===undefined?{}:arguments[0];a(this,r);u(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e);this._doArgs=[];this._original=this;this._children=new Map}s(r,t);o(r,[{key:"deactivate",value:function n(){var e=true;var t=false;var n=undefined;try{for(var i=this._children.keys()[Symbol.iterator](),a;!(e=(a=i.next()).done);e=true){var o=a.value;this.childProxy(o).deactivate()}}catch(s){t=true;n=s}finally{try{if(!e&&i["return"]){i["return"]()}}finally{if(t){throw n}}}u(Object.getPrototypeOf(r.prototype),"deactivate",this).call(this)}},{key:"addChildProxy",value:function l(t,r){var n=this.childProxy(t);var i=r.constructor.Proxy||e.Proxy;var a=new i({delta:r,parent:this});if(n instanceof e.Delta.Modify.Proxy&&a instanceof e.Delta.Modify.Proxy){return n}if(n){n.deactivate()}this._children.get(t).push(a);return a}},{key:"childKeys",value:function v(){return[].concat(i(this._children.keys()))}},{key:"childProxies",value:function h(e){return f.a(this._children,e)}},{key:"childProxy",value:function p(e){if(!this._children.has(e)){this._children.set(e,[])}return this._children.get(e)[this._children.get(e).length-1]}},{key:"childDelta",value:function g(t){var r;var n=(r=e.Delta).composed.apply(r,i(this.childProxies(t).map(function(e){return e.delta()})));return n}},{key:"do",value:function m(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}if(!this.active){throw new y.MultipleActiveProxiesError}var n=Object.create(this);n._doArgs=[].concat(i(this._doArgs),t);n._original=this._original;return n}},{key:"_do",value:function w(t,r){if(!this.active){throw new y.MultipleActiveProxiesError}var n=this.processProxyArguments.apply(this,i(this._doArgs).concat(i(r)));var a=n.options;var o=n.args;if(typeof a.path==="string"){a.path=new c["default"](a.path)}var u=e.ContainerProxy._newDeltaByMethod(t,o);var s=this.addOperation(u,a);return s instanceof e.ContainerProxy?s:this}},{key:"processProxyArguments",value:function b(){throw new Error("A 'ContainerProxy' subclass needs to implement the 'processProxyArguments' method.")}},{key:"addOperation",value:function x(){throw new Error("A 'ContainerProxy' subclass needs to implement the 'addOperation' method.")}}],[{key:"_newDeltaByMethod",value:function O(t,r){var n=e.ContainerProxy._methodHandlers[t].map(function(e){return e.apply(undefined,i(r))});if(n.length===1){return n[0]}else{d["default"](e);return new e.Delta.Overloaded(n)}}},{key:"newProxyMethod",value:function _(t,r){if(f.isUndefined(e.ContainerProxy.prototype[t])){e.ContainerProxy.prototype[t]=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++){r[n]=arguments[n]}return this._do(t,r)}}f.a(e.ContainerProxy,"_methodHandlers",t).push(r)}}]);return r}(e.Proxy)});e.exports=t["default"]},function(e,t,r){(function(e){"use strict";if(e._babelPolyfill){throw new Error("only one instance of babel/polyfill is allowed")}e._babelPolyfill=true;r(24);r(25)}).call(t,function(){return this}())},function(e,t,r){"use strict";var n=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else{return Array.from(e)}};var i=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var o=function f(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(n===undefined){var i=Object.getPrototypeOf(e);if(i===null){return undefined}else{return f(i,t,r)}}else if("value"in n){return n.value}else{var a=n.get;if(a===undefined){return undefined}return a.call(r)}};var u=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)e.__proto__=t};Object.defineProperty(t,"__esModule",{value:true});var s=r(3);t["default"]=s.oncePer("Composed",function(e){e.newOperationType("Composed",function(t){function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}i(this,r);o(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,t);this._components=this.arg||[];this.options=t[1]||{}}u(r,t);a(r,[{key:"clone",value:function f(){var e=o(Object.getPrototypeOf(r.prototype),"clone",this).call(this);e._components=this._components.map(function(e){return e.clone()});return e}},{key:"applyTo",value:function l(e){var t=arguments[1]===undefined?{}:arguments[1];var r=true;var n=false;var i=undefined;try{for(var a=this._components[Symbol.iterator](),o;!(r=(o=a.next()).done);r=true){var u=o.value;u.applyTo(e,t)}}catch(s){n=true;i=s}finally{try{if(!r&&a["return"]){a["return"]()}}finally{if(n){throw i}}}}},{key:"toString",value:function c(){var e=arguments[0]===undefined?{}:arguments[0];var t=o(Object.getPrototypeOf(r.prototype),"toString",this).call(this,e);if(this._components.length>0){var n="";var i=true;var a=false;var u=undefined;try{for(var f=this._components[Symbol.iterator](),l;!(i=(l=f.next()).done);i=true){var c=l.value;n+="• "+c.toString(e)+"\n"}}catch(v){a=true;u=v}finally{try{if(!i&&f["return"]){f["return"]()}}finally{if(a){throw u}}}t+="\n"+s.indent(n,4)}return t}},{key:"precondition",value:function v(e,t){if(this._components.length===0){return true}return this._components[0].precondition(e,t)}},{key:"_collapse",value:function d(){var t=this;this._components=function(){var r=[];var i=true;var a=false;var o=undefined;try{for(var u=t._components[Symbol.iterator](),s;!(i=(s=u.next()).done);i=true){var f=s.value;if(f instanceof e.Delta.Composed){f._collapse();r.push.apply(r,n(f._components))}else{r.push(f)}}}catch(l){a=true;o=l}finally{try{if(!i&&u["return"]){u["return"]()}}finally{if(a){throw o}}}return r}();var r=undefined;do{r=false;this._components=function(){var n=[];for(var i=0;i<t._components.length-1;i+=1){var a=t._components[i].composedWith(t._components[i+1],t.options);if(a instanceof e.Delta.Composed){n.push(t._components[i])}else{n.push(a);r=true;i+=1}}if(i===t._components.length-1){n.push(t._components[i])}return n}()}while(r)}},{key:"methods",get:function(){return[]}}]);return r}(e.Delta));e.newComposition(function(t,r){return t instanceof e.Delta.Composed||r instanceof e.Delta.Composed},function(t,r,i){var a=t instanceof e.Delta.Composed?t._components:[t];var o=r instanceof e.Delta.Composed?r._components:[r];var u=new e.Delta.Composed([].concat(n(a),n(o)),i);u._collapse();return u});e.newEquality(s.t("Composed","Composed"),function(e,t){return s.arraysEqual(e._components,t._components,function(e,t){return e.equals(t)})})});e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}};var i=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();Object.defineProperty(t,"__esModule",{value:true});var o=r(3);var u=r(9);var s=n(u);t["default"]=o.oncePer("Proxy",function(e){s["default"](e);e.Proxy=function(){function e(){var t=arguments[0]===undefined?{}:arguments[0];var r=t.parent;var n=t.delta;i(this,e);this._parent=r;this._active=true;this._delta=n}a(e,[{key:"delta",value:function t(){return this._delta}},{key:"active",get:function(){return this._active}},{key:"deactivate",value:function r(){this._active=false}}]);return e}();o.extend(e.Delta.prototype,{"do":function t(){var e;for(var t=arguments.length,r=Array(t),n=0;n<t;n++){r[n]=arguments[n]}var i=this.constructor.Proxy;if(!i){throw new Error("Calling 'do' on delta type '"+this.type+"', which has no Proxy interface.")}return(e=new i({delta:this}))["do"].apply(e,r)}})});e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e,t){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done);n=true){r.push(u.value);if(t&&r.length===t)break}}catch(s){i=true;a=s}finally{try{if(!n&&o["return"])o["return"]()}finally{if(i)throw a}}return r}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}};var i=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else{return Array.from(e)}};var a=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)e.__proto__=t};var o=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();Object.defineProperty(t,"__esModule",{value:true});"use strict";var s=function(){function e(){o(this,e);this._vertices=new Map;this._edges=new Map;this._reverseEdges=new Map;this._vertexCount=0;this._edgeCount=0}u(e,[{key:"addNewVertex",value:function t(r,n){if(this.hasVertex(r)){throw new e.VertexExistsError(r,this._vertices.get(r))}this._vertices.set(r,n);this._edges.set(r,new Map);this._reverseEdges.set(r,new Set);this._vertexCount+=1}},{key:"setVertex",value:function r(t,n){if(!this.hasVertex(t)){throw new e.VertexNotExistsError(t)}this._vertices.set(t,n)}},{key:"ensureVertex",value:function i(e,t){if(!this.hasVertex(e)){this.addNewVertex(e,t)}}},{key:"addVertex",value:function a(e,t){if(this.hasVertex(e)){this.setVertex(e,t)}else{this.addNewVertex(e,t)}}},{key:"removeExistingVertex",value:function s(t){if(!this.hasVertex(t)){throw new e.VertexNotExistsError(t)}if(this._edges.get(t).size>0||this._reverseEdges.get(t).size>0){throw new e.HasConnectedEdgesError(t)}this._vertices["delete"](t);this._vertexCount-=1}},{key:"destroyExistingVertex",value:function f(t){if(!this.hasVertex(t)){throw new e.VertexNotExistsError(t)}var r=true;var i=false;var a=undefined;try{for(var o=this.verticesFrom(t)[Symbol.iterator](),u;!(r=(u=o.next()).done);r=true){var s=n(u.value,1);var f=s[0];this.removeEdge(t,f)}}catch(l){i=true;a=l}finally{try{if(!r&&o["return"]){o["return"]()}}finally{if(i){throw a}}}var c=true;var v=false;var d=undefined;try{for(var h=this.verticesTo(t)[Symbol.iterator](),p;!(c=(p=h.next()).done);c=true){var y=n(p.value,1);var g=y[0];this.removeEdge(g,t)}}catch(l){v=true;d=l}finally{try{if(!c&&h["return"]){h["return"]()}}finally{if(v){throw d}}}this.removeExistingVertex(t)}},{key:"removeVertex",value:function l(e){if(this.hasVertex(e)){this.removeExistingVertex(e)}}},{key:"destroyVertex",value:function c(e){if(this.hasVertex(e)){this.destroyExistingVertex(e)}}},{key:"vertexCount",value:function v(){return this._vertexCount}},{key:"hasVertex",value:function d(e){return this._vertices.has(e)}},{key:"vertexValue",value:function h(e){return this._vertices.get(e)}},{key:"addNewEdge",value:function p(t,r,n){if(this.hasEdge(t,r)){throw new e.EdgeExistsError(t,r,this.edgeValue(t,r))}if(!this.hasVertex(t)){if(this.hasVertex(r)){throw new e.VertexNotExistsError(t)}else{throw new e.VertexNotExistsError(t).v(r)}}else if(!this.hasVertex(r)){throw new e.VertexNotExistsError(r)}this._edges.get(t).set(r,n);this._reverseEdges.get(r).add(t);this._edgeCount+=1}},{key:"createNewEdge",value:function y(t,r,n){if(this.hasEdge(t,r)){throw new e.EdgeExistsError(t,r,this.edgeValue(t,r))}this.ensureVertex(t);this.ensureVertex(r);this.addNewEdge(t,r,n)}},{key:"setEdge",value:function g(t,r,n){if(!this.hasEdge(t,r)){throw new e.EdgeNotExistsError(t,r)}this._edges.get(t).set(r,n)}},{key:"spanEdge",value:function m(t,r,n){if(!this.hasVertex(t)){if(this.hasVertex(r)){throw new e.VertexNotExistsError(t)}else{throw new e.VertexNotExistsError(t).v(r)}}else if(!this.hasVertex(r)){throw new e.VertexNotExistsError(r)}if(!this.hasEdge(t,r)){this.addNewEdge(t,r,n)}}},{key:"addEdge",value:function w(e,t,r){if(this.hasEdge(e,t)){this.setEdge(e,t,r)}else{this.addNewEdge(e,t,r)}}},{key:"ensureEdge",value:function b(e,t,r){if(!this.hasEdge(e,t)){this.createNewEdge(e,t,r)}}},{key:"createEdge",value:function x(e,t,r){if(this.hasEdge(e,t)){this.setEdge(e,t,r)}else{this.createNewEdge(e,t,r)}}},{key:"removeExistingEdge",value:function O(t,r){if(!this.hasEdge(t,r)){throw new e.EdgeNotExistsError(t,r)}this._edges.get(t)["delete"](r);this._reverseEdges.get(r)["delete"](t);this._edgeCount-=1}},{key:"removeEdge",value:function _(e,t){if(this.hasEdge(e,t)){this.removeExistingEdge(e,t)}}},{key:"edgeCount",value:function E(){return this._edgeCount}},{key:"hasEdge",value:function P(e,t){return this.hasVertex(e)&&this.hasVertex(t)&&this._edges.has(e)&&this._edges.get(e).has(t)}},{key:"edgeValue",value:function k(e,t){return this.hasEdge(e,t)?this._edges.get(e).get(t):undefined}},{key:"vertices",value:regeneratorRuntime.mark(function S(){var e,t,r,i,a,o,u,s,f;return regeneratorRuntime.wrap(function l(c){while(1)switch(c.prev=c.next){case 0:e=new Set;t=true;r=false;i=undefined;c.prev=4;a=this._vertices[Symbol.iterator]();case 6:if(t=(o=a.next()).done){c.next=17;break}u=n(o.value,2);s=u[0];f=u[1];if(!(this.hasVertex(s)&&!e.has(s))){c.next=14;break}e.add(s);c.next=14;return[s,f];case 14:t=true;c.next=6;break;case 17:c.next=23;break;case 19:c.prev=19;c.t0=c["catch"](4);r=true;i=c.t0;case 23:c.prev=23;c.prev=24;if(!t&&a["return"]){a["return"]()}case 26:c.prev=26;if(!r){c.next=29;break}throw i;case 29:return c.finish(26);case 30:return c.finish(23);case 31:case"end":return c.stop()}},S,this,[[4,19,23,31],[24,,26,30]])})},{key:Symbol.iterator,value:function(){return this.vertices()}},{key:"edges",value:regeneratorRuntime.mark(function j(){var e,t,r,n,i,a,o,u,s,f,l,c,v;return regeneratorRuntime.wrap(function d(h){while(1)switch(h.prev=h.next){case 0:e=new Map;t=true;r=false;n=undefined;h.prev=4;i=this._edges.keys()[Symbol.iterator]();case 6:if(t=(a=i.next()).done){h.next=40;break}o=a.value;if(!e.has(o)){e.set(o,new Set)}u=true;s=false;f=undefined;h.prev=12;l=this._edges.get(o).keys()[Symbol.iterator]();case 14:if(u=(c=l.next()).done){h.next=23;break}v=c.value;if(!(this.hasEdge(o,v)&&!e.get(o).has(v))){h.next=20;break}e.get(o).add(v);h.next=20;return[o,v,this._edges.get(o).get(v)];case 20:u=true;h.next=14;break;case 23:h.next=29;break;case 25:h.prev=25;h.t1=h["catch"](12);s=true;f=h.t1;case 29:h.prev=29;h.prev=30;if(!u&&l["return"]){l["return"]()}case 32:h.prev=32;if(!s){h.next=35;break}throw f;case 35:return h.finish(32);case 36:return h.finish(29);case 37:t=true;h.next=6;break;case 40:h.next=46;break;case 42:h.prev=42;h.t2=h["catch"](4);r=true;n=h.t2;case 46:h.prev=46;h.prev=47;if(!t&&i["return"]){i["return"]()}case 49:h.prev=49;if(!r){h.next=52;break}throw n;case 52:return h.finish(49);case 53:return h.finish(46);case 54:case"end":return h.stop()}},j,this,[[4,42,46,54],[12,25,29,37],[30,,32,36],[47,,49,53]])})},{key:"verticesFrom",value:function A(t){if(!this.hasVertex(t)){throw new e.VertexNotExistsError(t)}return this._verticesFrom(t)}},{key:"_verticesFrom",value:regeneratorRuntime.mark(function C(e){var t,r,n,i,a,o,u;return regeneratorRuntime.wrap(function s(f){while(1)switch(f.prev=f.next){case 0:t=new Set;r=true;n=false;i=undefined;f.prev=4;a=this._edges.get(e).keys()[Symbol.iterator]();case 6:if(r=(o=a.next()).done){f.next=15;break}u=o.value;if(!(this.hasEdge(e,u)&&!t.has(u))){f.next=12;break}t.add(u);f.next=12;return[u,this._vertices.get(u),this._edges.get(e).get(u)];case 12:r=true;f.next=6;break;case 15:f.next=21;break;case 17:f.prev=17;f.t3=f["catch"](4);n=true;i=f.t3;case 21:f.prev=21;f.prev=22;if(!r&&a["return"]){a["return"]()}case 24:f.prev=24;if(!n){f.next=27;break}throw i;case 27:return f.finish(24);case 28:return f.finish(21);case 29:case"end":return f.stop()}},C,this,[[4,17,21,29],[22,,24,28]])})},{key:"verticesTo",value:function D(t){if(!this.hasVertex(t)){throw new e.VertexNotExistsError(t)}return this._verticesTo(t)}},{key:"_verticesTo",value:regeneratorRuntime.mark(function M(e){var t,r,n,i,a,o,u;return regeneratorRuntime.wrap(function s(f){while(1)switch(f.prev=f.next){case 0:t=new Set;r=true;n=false;i=undefined;f.prev=4;a=this._reverseEdges.get(e)[Symbol.iterator]();case 6:if(r=(o=a.next()).done){f.next=15;break}u=o.value;if(!(this.hasEdge(u,e)&&!t.has(u))){f.next=12;break}t.add(u);f.next=12;return[u,this._vertices.get(u),this._edges.get(u).get(e)];case 12:r=true;f.next=6;break;case 15:f.next=21;break;case 17:f.prev=17;f.t4=f["catch"](4);n=true;i=f.t4;case 21:f.prev=21;f.prev=22;if(!r&&a["return"]){a["return"]()}case 24:f.prev=24;if(!n){f.next=27;break}throw i;case 27:return f.finish(24);case 28:return f.finish(21);case 29:case"end":return f.stop()}},M,this,[[4,17,21,29],[22,,24,28]])})},{key:"verticesWithPathFrom",value:function T(t){if(!this.hasVertex(t)){throw new e.VertexNotExistsError(t)}return this._verticesWithPathFrom(t,new Set)}},{key:"_verticesWithPathFrom",value:regeneratorRuntime.mark(function F(e,t){var r,n,i,a,o,u;return regeneratorRuntime.wrap(function s(f){while(1)switch(f.prev=f.next){case 0:r=true;n=false;i=undefined;f.prev=3;a=this._edges.get(e).keys()[Symbol.iterator]();case 5:if(r=(o=a.next()).done){f.next=15;break}u=o.value;if(!(this.hasEdge(e,u)&&!t.has(u))){f.next=12;break}t.add(u);f.next=11;return[u,this._vertices.get(u)];case 11:return f.delegateYield(this._verticesWithPathFrom(u,t),"t5",12);case 12:r=true;f.next=5;break;case 15:f.next=21;break;case 17:f.prev=17;f.t6=f["catch"](3);n=true;i=f.t6;case 21:f.prev=21;f.prev=22;if(!r&&a["return"]){a["return"]()}case 24:f.prev=24;if(!n){f.next=27;break}throw i;case 27:return f.finish(24);case 28:return f.finish(21);case 29:case"end":return f.stop()}},F,this,[[3,17,21,29],[22,,24,28]])})},{key:"verticesWithPathTo",value:function I(t){if(!this.hasVertex(t)){throw new e.VertexNotExistsError(t)}return this._verticesWithPathTo(t,new Set)}},{key:"_verticesWithPathTo",value:regeneratorRuntime.mark(function R(e,t){var r,n,i,a,o,u;return regeneratorRuntime.wrap(function s(f){while(1)switch(f.prev=f.next){case 0:r=true;n=false;i=undefined;f.prev=3;a=this._reverseEdges.get(e)[Symbol.iterator]();case 5:if(r=(o=a.next()).done){f.next=15;break}u=o.value;if(!(this.hasEdge(u,e)&&!t.has(u))){f.next=12;break}t.add(u);f.next=11;return[u,this._vertices.get(u)];case 11:return f.delegateYield(this._verticesWithPathTo(u,t),"t7",12);case 12:r=true;f.next=5;break;case 15:f.next=21;break;case 17:f.prev=17;f.t8=f["catch"](3);n=true;i=f.t8;case 21:f.prev=21;f.prev=22;if(!r&&a["return"]){a["return"]()}case 24:f.prev=24;if(!n){f.next=27;break}throw i;case 27:return f.finish(24);case 28:return f.finish(21);case 29:case"end":return f.stop()}},R,this,[[3,17,21,29],[22,,24,28]])})},{key:"vertices_topologically",value:regeneratorRuntime.mark(function N(){var t,r,i,a,o,u,s,f,l,c,v,d;return regeneratorRuntime.wrap(function h(p){while(1)switch(p.prev=p.next){case 0:o=function y(o){var u,s,f,l,c,v,d,h,p;return regeneratorRuntime.wrap(function g(t){while(1)switch(t.prev=t.next){case 0:r.push(o);u=r.indexOf(o);if(!(u!==r.length-1)){t.next=5;break}s=r.slice(u+1).reverse();throw new e.CycleError(s);case 5:if(i.has(o)){t.next=36;break}f=true;l=false;c=undefined;t.prev=9;v=a.verticesTo(o)[Symbol.iterator]();case 11:if(f=(d=v.next()).done){t.next=18;break}h=n(d.value,1);p=h[0];return t.delegateYield(y(p),"t9",15);case 15:f=true;t.next=11;break;case 18:t.next=24;break;case 20:t.prev=20;t.t10=t["catch"](9);l=true;c=t.t10;case 24:t.prev=24;t.prev=25;if(!f&&v["return"]){v["return"]()}case 27:t.prev=27;if(!l){t.next=30;break}throw c;case 30:return t.finish(27);case 31:return t.finish(24);case 32:if(!a.hasVertex(o)){t.next=35;break}t.next=35;return[o,a._vertices.get(o)];case 35:i.add(o);case 36:r.pop();case 37:case"end":return t.stop()}},t[0],this,[[9,20,24,32],[25,,27,31]])};t=[o].map(regeneratorRuntime.mark);r=[];i=new Set;a=this;u=true;s=false;f=undefined;p.prev=8;l=this.vertices()[Symbol.iterator]();case 10:if(u=(c=l.next()).done){p.next=18;break}v=n(c.value,1);d=v[0];if(i.has(d)){p.next=15;break}return p.delegateYield(o(d),"t11",15);case 15:u=true;p.next=10;break;case 18:p.next=24;break;case 20:p.prev=20;p.t12=p["catch"](8);s=true;f=p.t12;case 24:p.prev=24;p.prev=25;if(!u&&l["return"]){l["return"]()}case 27:p.prev=27;if(!s){p.next=30;break}throw f;case 30:return p.finish(27);case 31:return p.finish(24);case 32:case"end":return p.stop()}},N,this,[[8,20,24,32],[25,,27,31]])})},{key:"clearEdges",value:function V(){var e=true;var t=false;var r=undefined;try{for(var i=this.edges()[Symbol.iterator](),a;!(e=(a=i.next()).done);e=true){var o=n(a.value,2);var u=o[0];var s=o[1];this.removeEdge(u,s)}}catch(f){t=true;r=f}finally{try{if(!e&&i["return"]){i["return"]()}}finally{if(t){throw r}}}}},{key:"clear",value:function U(){var e=true;var t=false;var r=undefined;try{for(var i=this.vertices()[Symbol.iterator](),a;!(e=(a=i.next()).done);e=true){var o=n(a.value,1);var u=o[0];this.destroyVertex(u)}}catch(s){t=true;r=s}finally{try{if(!e&&i["return"]){i["return"]()}}finally{if(t){throw r}}}}},{key:"equals",value:function L(){var t=arguments[0]===undefined?undefined:arguments[0];var r=arguments[1]===undefined?function(e,t,r,n){return e===t}:arguments[1];if(!(t instanceof e)){return false}if(this.vertexCount()!==t.vertexCount()){return false}if(this.edgeCount()!==t.edgeCount()){return false}var i=true;var a=false;var o=undefined;try{for(var u=this.vertices()[Symbol.iterator](),s;!(i=(s=u.next()).done);i=true){var f=n(s.value,2);var l=f[0];var c=f[1];if(!t.hasVertex(l)){return false}if(!r(c,t.vertexValue(l),l)){return false}}}catch(v){a=true;o=v}finally{try{if(!i&&u["return"]){u["return"]()}}finally{if(a){throw o}}}var d=true;var h=false;var p=undefined;try{for(var y=this.edges()[Symbol.iterator](),g;!(d=(g=y.next()).done);d=true){var m=n(g.value,3);var w=m[0];var b=m[1];var c=m[2];if(!t.hasEdge(w,b)){return false}if(!r(c,t.edgeValue(w,b),w,b)){return false}}}catch(v){h=true;p=v}finally{try{if(!d&&y["return"]){y["return"]()}}finally{if(h){throw p}}}return true}},{key:"cycle",value:function W(){var e=this;var t=[];var r=new Set;var i=function(e){function t(t){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}(function(a){var o=t.indexOf(a);if(o>=0){return t.slice(o)}if(r.has(a)){return null}r.add(a);t.push(a);var u=true;var s=false;var f=undefined;try{for(var l=e.verticesFrom(a)[Symbol.iterator](),c;!(u=(c=l.next()).done);u=true){var v=n(c.value,1);var d=v[0];var h=i(d);if(h){return h}}}catch(p){s=true;f=p}finally{try{if(!u&&l["return"]){l["return"]()}}finally{if(s){throw f}}}t.pop()});var a=true;var o=false;var u=undefined;try{for(var s=this.vertices()[Symbol.iterator](),f;!(a=(f=s.next()).done);a=true){var l=n(f.value,1);var c=l[0];var v=i(c);if(v){return v}}}catch(d){o=true;u=d}finally{try{if(!a&&s["return"]){s["return"]()}}finally{if(o){throw u}}}return null}},{key:"hasCycle",value:function q(){return!!this.cycle()}},{key:"path",value:function z(e,t){var r=this;if(!this.hasVertex(e)||!this.hasVertex(t)){return null}var i=[];var a=function(e){function t(t){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}(function(e){i.push(e);if(r.hasEdge(e,t)){return[].concat(i,[t])}var o=true;var u=false;var s=undefined;try{for(var f=r.verticesFrom(e)[Symbol.iterator](),l;!(o=(l=f.next()).done);o=true){var c=n(l.value,1);var v=c[0];if(i.indexOf(v)===-1){var d=a(v);if(d){return d}}}}catch(h){u=true;s=h}finally{try{if(!o&&f["return"]){f["return"]()}}finally{if(u){throw s}}}i.pop();return null});return a(e)}},{key:"hasPath",value:function G(e,t){return!!this.path(e,t)}},{key:"clone",value:function K(){var t=arguments[0]===undefined?function(e){return e}:arguments[0];var r=new e;var i=true;var a=false;var o=undefined;try{for(var u=this.vertices()[Symbol.iterator](),s;!(i=(s=u.next()).done);i=true){var f=n(s.value,2);var l=f[0];var c=f[1];r.addVertex(l,t(c,l))}}catch(v){a=true;o=v}finally{try{if(!i&&u["return"]){u["return"]()}}finally{if(a){throw o}}}var d=true;var h=false;var p=undefined;try{for(var y=this.edges()[Symbol.iterator](),g;!(d=(g=y.next()).done);d=true){var m=n(g.value,3);var w=m[0];var b=m[1];var c=m[2];r.addEdge(w,b,t(c,w,b))}}catch(v){h=true;p=v}finally{try{if(!d&&y["return"]){y["return"]()}}finally{if(h){throw p}}}return r}},{key:"transitiveReduction",value:function Y(){var e=arguments[0]===undefined?function(e){return e}:arguments[0];var t=this.clone(e);var r=true;var i=false;var a=undefined;try{for(var o=this.vertices()[Symbol.iterator](),u;!(r=(u=o.next()).done);r=true){var s=n(u.value,1);var f=s[0];var l=true;var c=false;var v=undefined;try{for(var d=this.vertices()[Symbol.iterator](),h;!(l=(h=d.next()).done);l=true){var p=n(h.value,1);var y=p[0];if(t.hasEdge(f,y)){var g=true;var m=false;var w=undefined;try{for(var b=this.vertices()[Symbol.iterator](),x;!(g=(x=b.next()).done);g=true){var O=n(x.value,1);var _=O[0];if(t.hasPath(y,_)){t.removeEdge(f,_)}}}catch(E){m=true;w=E}finally{try{if(!g&&b["return"]){b["return"]()}}finally{if(m){throw w}}}}}}catch(E){c=true;v=E}finally{try{if(!l&&d["return"]){d["return"]()}}finally{if(c){throw v}}}}}catch(E){i=true;a=E}finally{try{if(!r&&o["return"]){o["return"]()}}finally{if(i){throw a}}}return t}}]);return e}();t["default"]=s;s.VertexExistsError=function(e){function t(r,n){o(this,t);var i=new e;i.__proto__=t.prototype;i.vertices=new Set;i.v(r,n);return i}a(t,e);u(t,[{key:"v",value:function r(e,t){this.vertices.add({key:e,value:t});this._refreshMessage();return this}},{key:"_refreshMessage",value:function n(){var e=this.vertices.size===1?"a vertex":"vertices";this.message="This graph has "+e+" '"+[].concat(i(this.vertices)).map(function(e){return e.key}).join("', '")+"'"}}]);return t}(Error);s.VertexNotExistsError=function(e){function t(r){o(this,t);var n=new e;n.__proto__=t.prototype;n.vertices=new Set;n.v(r);return n}a(t,e);u(t,[{key:"v",value:function r(e){this.vertices.add({key:e});this._refreshMessage();return this}},{key:"_refreshMessage",value:function n(){var e=this.vertices.size===1?"a vertex":"vertices";this.message="This graph does not have "+e+" '"+[].concat(i(this.vertices)).map(function(e){return e.key}).join("', '")+"'"}}]);return t}(Error);s.EdgeExistsError=function(e){function t(r,n,i){o(this,t);var a=new e;a.__proto__=t.prototype;a.edges=new Set;a.e(r,n,i);return a}a(t,e);u(t,[{key:"e",value:function r(e,t,n){this.edges.add({from:e,to:t,value:n});this._refreshMessage();return this}},{key:"_refreshMessage",value:function n(){var e=[];var t=true;var r=false;var n=undefined;try{for(var i=this.edges[Symbol.iterator](),a;!(t=(a=i.next()).done);t=true){var o=a.value;var u=o.from;var s=o.to;e.push("('"+u+"', '"+s+"')")}}catch(f){r=true;n=f}finally{try{if(!t&&i["return"]){i["return"]()}}finally{if(r){throw n}}}var l=e.length===1?"an edge":"edges";this.message="This graph has "+l+" "+e.join(", ")}}]);return t}(Error);s.EdgeNotExistsError=function(e){function t(r,n){o(this,t);var i=new e;i.__proto__=t.prototype;i.edges=new Set;i.e(r,n);return i}a(t,e);u(t,[{key:"e",value:function r(e,t){this.edges.add({from:e,to:t});this._refreshMessage();return this}},{key:"_refreshMessage",value:function n(){var e=[];var t=true;var r=false;var n=undefined;try{for(var i=this.edges[Symbol.iterator](),a;!(t=(a=i.next()).done);t=true){var o=a.value;var u=o.from;var s=o.to;e.push("('"+u+"', '"+s+"')")}}catch(f){r=true;n=f}finally{try{if(!t&&i["return"]){i["return"]()}}finally{if(r){throw n}}}var l=e.length===1?"an edge":"edges";this.message="This graph does not have "+l+" "+e.join(", ")}}]);return t}(Error);s.HasConnectedEdgesError=function(e){function t(r){o(this,t);var n=new e;n.__proto__=t.prototype;n.key=r;n.message="The '"+r+"' vertex has connected edges";return n}a(t,e);return t}(Error);s.CycleError=function(e){function t(r){o(this,t);var n=new e;n.__proto__=t.prototype;n.cycle=r;n.message="This graph contains a cycle: "+r;return n}a(t,e);return t}(Error);e.exports=t["default"]},function(e,t,r){r(26);r(27);r(28);r(29);r(30);r(31);r(32);r(33);r(34);r(35);r(36);r(37);r(38);r(39);r(40);r(41);r(42);r(43);r(44);r(45);r(46);r(47);r(48);r(49);r(50);r(51);r(52);r(53);r(54);r(55);r(56);r(57);r(58);r(59);r(60);r(61);r(62);r(63);r(65);r(64);r(66);r(67);r(68);r(69);e.exports=r(70).core},function(e,t,r){(function(t){!function(t){"use strict";var r=Object.prototype.hasOwnProperty;var n;var i=typeof Symbol==="function"&&Symbol.iterator||"@@iterator";var a=typeof e==="object";var o=t.regeneratorRuntime;if(o){if(a){e.exports=o}return}o=t.regeneratorRuntime=a?e.exports:{};function u(e,t,r,n){var i=Object.create((t||h).prototype);i._invoke=m(e,r||null,new O(n||[]));return i}o.wrap=u;function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}var f="suspendedStart";var l="suspendedYield";var c="executing";var v="completed";var d={};function h(){}function p(){}function y(){}var g=y.prototype=h.prototype;p.prototype=g.constructor=y;y.constructor=p;p.displayName="GeneratorFunction";o.isGeneratorFunction=function(e){var t=typeof e==="function"&&e.constructor;return t?t===p||(t.displayName||t.name)==="GeneratorFunction":false};o.mark=function(e){e.__proto__=y;e.prototype=Object.create(g);return e};o.async=function(e,t,r,n){return new Promise(function(i,a){var o=u(e,t,r,n);var f=c.bind(o,"next");var l=c.bind(o,"throw");function c(e,t){var r=s(o[e],o,t);if(r.type==="throw"){a(r.arg);return}var n=r.arg;if(n.done){i(n.value)}else{Promise.resolve(n.value).then(f,l)}}f()})};function m(e,t,r){var i=f;return function a(o,u){if(i===c){throw new Error("Generator is already running")}if(i===v){return E()}while(true){var h=r.delegate;if(h){if(o==="return"||o==="throw"&&h.iterator[o]===n){r.delegate=null;var p=h.iterator["return"];if(p){var y=s(p,h.iterator,u);if(y.type==="throw"){o="throw";u=y.arg;continue}}if(o==="return"){continue}}var y=s(h.iterator[o],h.iterator,u);if(y.type==="throw"){r.delegate=null;o="throw";u=y.arg;continue}o="next";u=n;var g=y.arg;if(g.done){r[h.resultName]=g.value;r.next=h.nextLoc}else{i=l;return g}r.delegate=null}if(o==="next"){if(i===l){r.sent=u}else{delete r.sent}}else if(o==="throw"){if(i===f){i=v;throw u}if(r.dispatchException(u)){o="next";u=n}}else if(o==="return"){r.abrupt("return",u)}i=c;var y=s(e,t,r);if(y.type==="normal"){i=r.done?v:l;var g={value:y.arg,done:r.done};if(y.arg===d){if(r.delegate&&o==="next"){u=n}}else{return g}}else if(y.type==="throw"){i=v;o="throw";u=y.arg}}}}function w(e){g[e]=function(t){return this._invoke(e,t)}}w("next");w("throw");w("return");g[i]=function(){return this};g.toString=function(){return"[object Generator]"};function b(e){var t={tryLoc:e[0]};if(1 in e){t.catchLoc=e[1]}if(2 in e){t.finallyLoc=e[2];t.afterLoc=e[3]}this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal";delete t.arg;e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}];e.forEach(b,this);this.reset()}o.keys=function(e){var t=[];for(var r in e){t.push(r)}t.reverse();return function n(){while(t.length){var r=t.pop();if(r in e){n.value=r;n.done=false;return n}}n.done=true;return n}};function _(e){if(e){var t=e[i];if(t){return t.call(e);

}if(typeof e.next==="function"){return e}if(!isNaN(e.length)){var a=-1,o=function u(){while(++a<e.length){if(r.call(e,a)){u.value=e[a];u.done=false;return u}}u.value=n;u.done=true;return u};return o.next=o}}return{next:E}}o.values=_;function E(){return{value:n,done:true}}O.prototype={constructor:O,reset:function(){this.prev=0;this.next=0;this.sent=n;this.done=false;this.delegate=null;this.tryEntries.forEach(x);for(var e=0,t;r.call(this,t="t"+e)||e<20;++e){this[t]=null}},stop:function(){this.done=true;var e=this.tryEntries[0];var t=e.completion;if(t.type==="throw"){throw t.arg}return this.rval},dispatchException:function(e){if(this.done){throw e}var t=this;function n(r,n){o.type="throw";o.arg=e;t.next=r;return!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];var o=a.completion;if(a.tryLoc==="root"){return n("end")}if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc");var s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc){return n(a.catchLoc,true)}else if(this.prev<a.finallyLoc){return n(a.finallyLoc)}}else if(u){if(this.prev<a.catchLoc){return n(a.catchLoc,true)}}else if(s){if(this.prev<a.finallyLoc){return n(a.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}if(a&&(e==="break"||e==="continue")&&a.tryLoc<=t&&t<=a.finallyLoc){a=null}var o=a?a.completion:{};o.type=e;o.arg=t;if(a){this.next=a.finallyLoc}else{this.complete(o)}return d},complete:function(e,t){if(e.type==="throw"){throw e.arg}if(e.type==="break"||e.type==="continue"){this.next=e.arg}else if(e.type==="return"){this.rval=e.arg;this.next="end"}else if(e.type==="normal"&&t){this.next=t}return d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e){return this.complete(r.completion,r.afterLoc)}}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(n.type==="throw"){var i=n.arg;x(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){this.delegate={iterator:_(e),resultName:t,nextLoc:r};return d}}}(typeof t==="object"?t:typeof window==="object"?window:typeof self==="object"?self:this)}).call(t,function(){return this}())},function(e,t,r){var n=r(70),i=r(71),a=r(72),o=r(73),u=r(74),s=r(75).safe("__proto__"),f=r(76),l=f.obj,c=Object.prototype,v=[],d=v.slice,h=v.indexOf,p=i.classof,y=Object.defineProperties,g=n.has,m=n.setDesc,w=n.getDesc,b=n.isFunction,x=n.toObject,O=n.toLength,_=false;if(!n.DESC){try{_=m(document.createElement("div"),"x",{get:function(){return 8}}).x==8}catch(E){}n.setDesc=function(e,t,r){if(_)try{return m(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");if("value"in r)l(e)[t]=r.value;return e};n.getDesc=function(e,t){if(_)try{return w(e,t)}catch(r){}if(g(e,t))return n.desc(!c.propertyIsEnumerable.call(e,t),e[t])};y=function(e,t){l(e);var r=n.getKeys(t),i=r.length,a=0,o;while(i>a)n.setDesc(e,o=r[a++],t[o]);return e}}a(a.S+a.F*!n.DESC,"Object",{getOwnPropertyDescriptor:n.getDesc,defineProperty:n.setDesc,defineProperties:y});var P=("constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,"+"toLocaleString,toString,valueOf").split(","),k=P.concat("length","prototype"),S=P.length;var j=function(){var e=document.createElement("iframe"),t=S,r=">",i;e.style.display="none";n.html.appendChild(e);e.src="javascript:";i=e.contentWindow.document;i.open();i.write("<script>document.F=Object</script"+r);i.close();j=i.F;while(t--)delete j.prototype[P[t]];return j()};function A(e,t){return function(r){var n=x(r),i=0,a=[],o;for(o in n)if(o!=s)g(n,o)&&a.push(o);while(t>i)if(g(n,o=e[i++])){~h.call(a,o)||a.push(o)}return a}}function C(e){return!n.isObject(e)}function D(){}a(a.S,"Object",{getPrototypeOf:n.getProto=n.getProto||function(e){e=Object(f.def(e));if(g(e,s))return e[s];if(b(e.constructor)&&e instanceof e.constructor){return e.constructor.prototype}return e instanceof Object?c:null},getOwnPropertyNames:n.getNames=n.getNames||A(k,k.length,true),create:n.create=n.create||function(e,t){var r;if(e!==null){D.prototype=l(e);r=new D;D.prototype=null;r[s]=e}else r=j();return t===undefined?r:y(r,t)},keys:n.getKeys=n.getKeys||A(P,S,false),seal:n.it,freeze:n.it,preventExtensions:n.it,isSealed:C,isFrozen:C,isExtensible:n.isObject});a(a.P,"Function",{bind:function(e){var t=f.fn(this),r=d.call(arguments,1);function i(){var a=r.concat(d.call(arguments));return o(t,a,this instanceof i?n.create(t.prototype):e)}if(t.prototype)i.prototype=t.prototype;return i}});function M(e){return function(){return e.apply(n.ES5Object(this),arguments)}}if(!(0 in Object("z")&&"z"[0]=="z")){n.ES5Object=function(e){return i(e)=="String"?e.split(""):Object(e)}}a(a.P+a.F*(n.ES5Object!=Object),"Array",{slice:M(d),join:M(v.join)});a(a.S,"Array",{isArray:function(e){return i(e)=="Array"}});function T(e){return function(t,r){f.fn(t);var n=x(this),i=O(n.length),a=e?i-1:0,o=e?-1:1;if(arguments.length<2)for(;;){if(a in n){r=n[a];a+=o;break}a+=o;f(e?a>=0:i>a,"Reduce of empty array with no initial value")}for(;e?a>=0:i>a;a+=o)if(a in n){r=t(r,n[a],a,this)}return r}}a(a.P,"Array",{forEach:n.each=n.each||u(0),map:u(1),filter:u(2),some:u(3),every:u(4),reduce:T(false),reduceRight:T(true),indexOf:h=h||r(77)(false),lastIndexOf:function(e,t){var r=x(this),i=O(r.length),a=i-1;if(arguments.length>1)a=Math.min(a,n.toInteger(t));if(a<0)a=O(i+a);for(;a>=0;a--)if(a in r)if(r[a]===e)return a;return-1}});a(a.P,"String",{trim:r(78)(/^\s*([\s\S]*\S)?\s*$/,"$1")});a(a.S,"Date",{now:function(){return+new Date}});function F(e){return e>9?e:"0"+e}a(a.P,"Date",{toISOString:function(){if(!isFinite(this))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+F(e.getUTCMonth()+1)+"-"+F(e.getUTCDate())+"T"+F(e.getUTCHours())+":"+F(e.getUTCMinutes())+":"+F(e.getUTCSeconds())+"."+(r>99?r:"0"+F(r))+"Z"}});if(p(function(){return arguments}())=="Object")i.classof=function(e){var t=p(e);return t=="Object"&&b(e.callee)?"Arguments":t}},function(e,t,r){"use strict";var n=r(70),i=r(71).set,a=r(75),o=r(72),u=r(79),s=n.has,f=n.hide,l=n.getNames,c=n.toObject,v=n.g.Symbol,d=v,h=false,p=a.safe("tag"),y={},g={};function m(e){var t=g[e]=n.set(n.create(v.prototype),p,e);n.DESC&&h&&n.setDesc(Object.prototype,e,{configurable:true,set:function(t){f(this,e,t)}});return t}if(!n.isFunction(v)){v=function b(e){if(this instanceof b)throw TypeError("Symbol is not a constructor");return m(a(e))};f(v.prototype,"toString",function(){return this[p]})}o(o.G+o.W,{Symbol:v});var w={"for":function(e){return s(y,e+="")?y[e]:y[e]=v(e)},keyFor:function x(e){return u(y,e)},pure:a.safe,set:n.set,useSetter:function(){h=true},useSimple:function(){h=false}};n.each.call(("hasInstance,isConcatSpreadable,iterator,match,replace,search,"+"species,split,toPrimitive,toStringTag,unscopables").split(","),function(e){var t=r(80)(e);w[e]=v===d?t:m(t)});h=true;o(o.S,"Symbol",w);o(o.S+o.F*(v!=d),"Object",{getOwnPropertyNames:function O(e){var t=l(c(e)),r=[],n,i=0;while(t.length>i)s(g,n=t[i++])||r.push(n);return r},getOwnPropertySymbols:function _(e){var t=l(c(e)),r=[],n,i=0;while(t.length>i)s(g,n=t[i++])&&r.push(g[n]);return r}});i(v,"Symbol");i(Math,"Math",true);i(n.g.JSON,"JSON",true)},function(e,t,r){var n=r(72);n(n.S,"Object",{assign:r(81)})},function(e,t,r){var n=r(72);n(n.S,"Object",{is:function i(e,t){return e===t?e!==0||1/e===1/t:e!=e&&t!=t}})},function(e,t,r){var n=r(72);n(n.S,"Object",{setPrototypeOf:r(82).set})},function(e,t,r){"use strict";var n=r(70),i=r(71),a={};a[r(80)("toStringTag")]="z";if(n.FW&&i(a)!="z")n.hide(Object.prototype,"toString",function o(){return"[object "+i.classof(this)+"]"})},function(e,t,r){var n=r(70),i=r(72),a=n.isObject,o=n.toObject;function u(e,t){var r=(n.core.Object||{})[e]||Object[e],u=0,s={};s[e]=t==1?function(e){return a(e)?r(e):e}:t==2?function(e){return a(e)?r(e):true}:t==3?function(e){return a(e)?r(e):false}:t==4?function l(e,t){return r(o(e),t)}:t==5?function c(e){return r(Object(n.assertDefined(e)))}:function(e){return r(o(e))};try{r("z")}catch(f){u=1}i(i.S+i.F*u,"Object",s)}u("freeze",1);u("seal",1);u("preventExtensions",1);u("isFrozen",2);u("isSealed",2);u("isExtensible",3);u("getOwnPropertyDescriptor",4);u("getPrototypeOf",5);u("keys");u("getOwnPropertyNames")},function(e,t,r){"use strict";var n=r(70),i="name",a=n.setDesc,o=Function.prototype;i in o||n.FW&&n.DESC&&a(o,i,{configurable:true,get:function(){var e=String(this).match(/^\s*function ([^ (]*)/),t=e?e[1]:"";n.has(this,i)||a(this,i,n.desc(5,t));return t},set:function(e){n.has(this,i)||a(this,i,n.desc(0,e))}})},function(e,t,r){"use strict";var n=r(70),i=n.isObject,a=n.isFunction,o="Number",u=n.g[o],s=u,f=u.prototype;function l(e){var t,r;if(a(t=e.valueOf)&&!i(r=t.call(e)))return r;if(a(t=e.toString)&&!i(r=t.call(e)))return r;throw TypeError("Can't convert object to number")}function c(e){if(i(e))e=l(e);if(typeof e=="string"&&e.length>2&&e.charCodeAt(0)==48){var t=false;switch(e.charCodeAt(1)){case 66:case 98:t=true;case 79:case 111:return parseInt(e.slice(2),t?2:8)}}return+e}if(n.FW&&!(u("0o1")&&u("0b1"))){u=function v(e){return this instanceof v?new s(c(e)):c(e)};n.each.call(n.DESC?n.getNames(s):("MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,"+"EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,"+"MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger").split(","),function(e){if(n.has(s,e)&&!n.has(u,e)){n.setDesc(u,e,n.getDesc(s,e))}});u.prototype=f;f.constructor=u;n.hide(n.g,o,u)}},function(e,t,r){var n=r(70),i=r(72),a=Math.abs,o=Math.floor,u=n.g.isFinite,s=9007199254740991;function f(e){return!n.isObject(e)&&u(e)&&o(e)===e}i(i.S,"Number",{EPSILON:Math.pow(2,-52),isFinite:function l(e){return typeof e=="number"&&u(e)},isInteger:f,isNaN:function c(e){return e!=e},isSafeInteger:function v(e){return f(e)&&a(e)<=s},MAX_SAFE_INTEGER:s,MIN_SAFE_INTEGER:-s,parseFloat:parseFloat,parseInt:parseInt})},function(e,t,r){var n=1/0,i=r(72),a=Math.E,o=Math.pow,u=Math.abs,s=Math.exp,f=Math.log,l=Math.sqrt,c=Math.ceil,v=Math.floor,d=o(2,-52),h=o(2,-23),p=o(2,127)*(2-h),y=o(2,-126);function g(e){return e+1/d-1/d}function m(e){return(e=+e)==0||e!=e?e:e<0?-1:1}function w(e){return!isFinite(e=+e)||e==0?e:e<0?-w(-e):f(e+l(e*e+1))}function b(e){return(e=+e)==0?e:e>-1e-6&&e<1e-6?e+e*e/2:s(e)-1}i(i.S,"Math",{acosh:function x(e){return(e=+e)<1?NaN:isFinite(e)?f(e/a+l(e+1)*l(e-1)/a)+1:e},asinh:w,atanh:function O(e){return(e=+e)==0?e:f((1+e)/(1-e))/2},cbrt:function _(e){return m(e=+e)*o(u(e),1/3)},clz32:function E(e){return(e>>>=0)?31-v(f(e+.5)*Math.LOG2E):32},cosh:function P(e){return(s(e=+e)+s(-e))/2},expm1:b,fround:function k(e){var t=u(e),r=m(e),i,a;if(t<y)return r*g(t/y/h)*y*h;i=(1+h/d)*t;a=i-(i-t);if(a>p||a!=a)return r*n;return r*a},hypot:function S(e,t){var r=0,i=arguments.length,a=i,u=Array(i),s=-n,f;while(i--){f=u[i]=+arguments[i];if(f==n||f==-n)return n;if(f>s)s=f}s=f||1;while(a--)r+=o(u[a]/s,2);return s*l(r)},imul:function j(e,t){var r=65535,n=+e,i=+t,a=r&n,o=r&i;return 0|a*o+((r&n>>>16)*o+a*(r&i>>>16)<<16>>>0)},log1p:function A(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:f(1+e)},log10:function C(e){return f(e)/Math.LN10},log2:function D(e){return f(e)/Math.LN2},sign:m,sinh:function M(e){return u(e=+e)<1?(b(e)-b(-e))/2:(s(e-1)-s(-e-1))*(a/2)},tanh:function T(e){var t=b(e=+e),r=b(-e);return t==n?1:r==n?-1:(t-r)/(s(e)+s(-e))},trunc:function F(e){return(e>0?v:c)(e)}})},function(e,t,r){var n=r(72),i=r(70).toIndex,a=String.fromCharCode;n(n.S,"String",{fromCodePoint:function o(e){var t=[],r=arguments.length,n=0,o;while(r>n){o=+arguments[n++];if(i(o,1114111)!==o)throw RangeError(o+" is not a valid code point");t.push(o<65536?a(o):a(((o-=65536)>>10)+55296,o%1024+56320))}return t.join("")}})},function(e,t,r){var n=r(70),i=r(72);i(i.S,"String",{raw:function a(e){var t=n.toObject(e.raw),r=n.toLength(t.length),i=arguments.length,a=[],o=0;while(r>o){a.push(String(t[o++]));if(o<i)a.push(String(arguments[o]))}return a.join("")}})},function(e,t,r){var n=r(70).set,i=r(83)(true),a=r(75).safe("iter"),o=r(84),u=o.step;o.std(String,"String",function(e){n(this,a,{o:String(e),i:0})},function(){var e=this[a],t=e.o,r=e.i,n;if(r>=t.length)return u(1);n=i.call(t,r);e.i+=n.length;return u(0,n)})},function(e,t,r){var n=r(72);n(n.P,"String",{codePointAt:r(83)(false)})},function(e,t,r){"use strict";var n=r(70),i=r(71),a=r(72),o=n.toLength;a(a.P,"String",{endsWith:function u(e){if(i(e)=="RegExp")throw TypeError();var t=String(n.assertDefined(this)),r=arguments[1],a=o(t.length),u=r===undefined?a:Math.min(o(r),a);e+="";return t.slice(u-e.length,u)===e}})},function(e,t,r){"use strict";var n=r(70),i=r(71),a=r(72);a(a.P,"String",{includes:function o(e){if(i(e)=="RegExp")throw TypeError();return!!~String(n.assertDefined(this)).indexOf(e,arguments[1])}})},function(e,t,r){"use strict";var n=r(70),i=r(72);i(i.P,"String",{repeat:function a(e){var t=String(n.assertDefined(this)),r="",i=n.toInteger(e);if(i<0||i==Infinity)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))if(i&1)r+=t;return r}})},function(e,t,r){"use strict";var n=r(70),i=r(71),a=r(72);a(a.P,"String",{startsWith:function o(e){if(i(e)=="RegExp")throw TypeError();var t=String(n.assertDefined(this)),r=n.toLength(Math.min(arguments[1],t.length));e+="";return t.slice(r,r+e.length)===e}})},function(e,t,r){var n=r(70),i=r(85),a=r(72),o=r(84),u=o.stepCall;a(a.S+a.F*!r(86)(function(e){Array.from(e)}),"Array",{from:function s(e){var t=Object(n.assertDefined(e)),r=arguments[1],a=r!==undefined,s=a?i(r,arguments[2],2):undefined,f=0,l,c,v,d;if(o.is(t)){d=o.get(t);c=new(typeof this=="function"?this:Array);for(;!(v=d.next()).done;f++){c[f]=a?u(d,s,[v.value,f],true):v.value}}else{c=new(typeof this=="function"?this:Array)(l=n.toLength(t.length));for(;l>f;f++){c[f]=a?s(t[f],f):t[f]}}c.length=f;return c}})},function(e,t,r){var n=r(72);n(n.S,"Array",{of:function i(){var e=0,t=arguments.length,r=new(typeof this=="function"?this:Array)(t);while(t>e)r[e]=arguments[e++];r.length=t;return r}})},function(e,t,r){var n=r(70),i=r(87),a=r(75).safe("iter"),o=r(84),u=o.step,s=o.Iterators;o.std(Array,"Array",function(e,t){n.set(this,a,{o:n.toObject(e),i:0,k:t})},function(){var e=this[a],t=e.o,r=e.k,n=e.i++;if(!t||n>=t.length){e.o=undefined;return u(1)}if(r=="key")return u(0,n);if(r=="value")return u(0,t[n]);return u(0,[n,t[n]])},"value");s.Arguments=s.Array;i("keys");i("values");i("entries")},function(e,t,r){r(88)(Array)},function(e,t,r){"use strict";var n=r(70),i=r(72),a=n.toIndex;i(i.P,"Array",{copyWithin:function o(e,t){var r=Object(n.assertDefined(this)),i=n.toLength(r.length),o=a(e,i),u=a(t,i),s=arguments[2],f=s===undefined?i:a(s,i),l=Math.min(f-u,i-o),c=1;if(u<o&&o<u+l){c=-1;u=u+l-1;o=o+l-1}while(l-->0){if(u in r)r[o]=r[u];else delete r[o];o+=c;u+=c}return r}});r(87)("copyWithin")},function(e,t,r){"use strict";var n=r(70),i=r(72),a=n.toIndex;i(i.P,"Array",{fill:function o(e){var t=Object(n.assertDefined(this)),r=n.toLength(t.length),i=a(arguments[1],r),o=arguments[2],u=o===undefined?r:a(o,r);while(u>i)t[i++]=e;return t}});r(87)("fill")},function(e,t,r){var n=r(72);n(n.P,"Array",{find:r(74)(5)});r(87)("find")},function(e,t,r){var n=r(72);n(n.P,"Array",{findIndex:r(74)(6)});r(87)("findIndex")},function(e,t,r){var n=r(70),i=r(71),a=n.g.RegExp,o=a,u=a.prototype;if(n.FW&&n.DESC){if(!function(){try{return a(/a/g,"i")=="/a/i"}catch(e){}}()){a=function s(e,t){return new o(i(e)=="RegExp"&&t!==undefined?e.source:e,t)};n.each.call(n.getNames(o),function(e){e in a||n.setDesc(a,e,{configurable:true,get:function(){return o[e]},set:function(t){o[e]=t}})});u.constructor=a;a.prototype=u;n.hide(n.g,"RegExp",a)}if(/./g.flags!="g")n.setDesc(u,"flags",{configurable:true,get:r(78)(/^.*\/(\w*)$/,"$1")})}r(88)(a)},function(e,t,r){"use strict";var n=r(70),i=r(85),a=r(71),o=r(72),u=r(76),s=r(84),f=r(80)("species"),l=r(75).safe("record"),c=s.forOf,v="Promise",d=n.g,h=d.process,p=h&&h.nextTick||r(89).set,y=d[v],g=y,m=n.isFunction,w=n.isObject,b=u.fn,x=u.obj,O;function _(e){var t=x(e)[f];return t!=undefined?t:e}function E(e){var t;if(w(e))t=e.then;return m(t)?t:false}function P(e){var t=e[l],r=t.c,n=0,i;if(t.h)return false;while(r.length>n){i=r[n++];if(i.fail||!P(i.P))return false}return true}function k(e,t){var r=e.c;if(t||r.length)p(function(){var n=e.p,i=e.v,o=e.s==1,u=0;if(t&&P(n)){setTimeout(function(){if(P(n)){if(a(h)=="process"){h.emit("unhandledRejection",i,n)}else if(d.console&&m(console.error)){console.error("Unhandled promise rejection",i)}}},1e3)}else while(r.length>u)!function(t){var r=o?t.ok:t.fail,n,a;try{if(r){if(!o)e.h=true;n=r===true?i:r(i);if(n===t.P){t.rej(TypeError(v+"-chain cycle"))}else if(a=E(n)){a.call(n,t.res,t.rej)}else t.res(n)}else t.rej(i)}catch(u){t.rej(u)}}(r[u++]);r.length=0})}function S(e){var t=this;if(t.d)return;t.d=true;t=t.r||t;t.v=e;t.s=2;k(t,true)}function j(e){var t=this,r,n;if(t.d)return;t.d=true;t=t.r||t;try{if(r=E(e)){n={r:t,d:false};r.call(e,i(j,n,1),i(S,n,1))}else{t.v=e;t.s=1;k(t)}}catch(a){S.call(n||{r:t,d:false},a)}}if(!(m(y)&&m(y.resolve)&&y.resolve(O=new y(function(){}))==O)){y=function A(e){b(e);var t={p:u.inst(this,y,v),c:[],s:0,d:false,v:undefined,h:false};n.hide(this,l,t);try{e(i(j,t,1),i(S,t,1))}catch(r){S.call(t,r)}};n.mix(y.prototype,{then:function C(e,t){var r=x(x(this).constructor)[f];var n={ok:m(e)?e:true,fail:m(t)?t:false};var i=n.P=new(r!=undefined?r:y)(function(e,t){n.res=b(e);n.rej=b(t)});var a=this[l];a.c.push(n);a.s&&k(a);return i},"catch":function(e){return this.then(undefined,e)}})}o(o.G+o.W+o.F*(y!=g),{Promise:y});a.set(y,v);r(88)(y);o(o.S,v,{reject:function D(e){return new(_(this))(function(t,r){r(e)})},resolve:function M(e){return w(e)&&l in e&&n.getProto(e)===this.prototype?e:new(_(this))(function(t){t(e)})}});o(o.S+o.F*!r(86)(function(e){y.all(e)["catch"](function(){})}),v,{all:function T(e){var t=_(this),r=[];return new t(function(i,a){c(e,false,r.push,r);var o=r.length,u=Array(o);if(o)n.each.call(r,function(e,r){t.resolve(e).then(function(e){u[r]=e;--o||i(u)},a)});else i(u)})},race:function F(e){var t=_(this);return new t(function(r,n){c(e,false,function(e){t.resolve(e).then(r,n)})})}})},function(e,t,r){"use strict";var n=r(90);r(91)("Map",{get:function i(e){var t=n.getEntry(this,e);return t&&t.v},set:function a(e,t){return n.def(this,e===0?0:e,t)}},n,true)},function(e,t,r){"use strict";var n=r(90);r(91)("Set",{add:function i(e){return n.def(this,e=e===0?0:e,e)}},n)},function(e,t,r){"use strict";var n=r(70),i=r(92),a=i.leakStore,o=i.ID,u=i.WEAK,s=n.has,f=n.isObject,l=Object.isFrozen||n.core.Object.isFrozen,c={};var v=r(91)("WeakMap",{get:function d(e){if(f(e)){if(l(e))return a(this).get(e);if(s(e,u))return e[u][this[o]]}},set:function h(e,t){return i.def(this,e,t)}},i,true,true);if(n.FW&&(new v).set((Object.freeze||Object)(c),7).get(c)!=7){n.each.call(["delete","has","get","set"],function(e){var t=v.prototype[e];v.prototype[e]=function(r,n){if(f(r)&&l(r)){var i=a(this)[e](r,n);return e=="set"?this:i}return t.call(this,r,n)}})}},function(e,t,r){"use strict";var n=r(92);r(91)("WeakSet",{add:function i(e){return n.def(this,e,true)}},n,false,true)},function(e,t,r){var n=r(70),i=r(72),a=r(82),o=r(84),u=r(75).safe("iter"),s=o.step,f=r(76),l=n.isObject,c=n.getDesc,v=n.setDesc,d=n.getProto,h=Function.apply,p=f.obj,y=Object.isExtensible||n.it;function g(e){var t=[],r;for(r in e)t.push(r);n.set(this,u,{o:e,a:t,i:0})}o.create(g,"Object",function(){var e=this[u],t=e.a,r;do{if(e.i>=t.length)return s(1)}while(!((r=t[e.i++])in e.o));return s(0,r)});function m(e){return function(t){p(t);try{e.apply(undefined,arguments);return true}catch(r){return false}}}function w(e,t){var r=arguments.length<3?e:arguments[2],i=c(p(e),t),a;if(i)return n.has(i,"value")?i.value:i.get===undefined?undefined:i.get.call(r);return l(a=d(e))?w(a,t,r):undefined}function b(e,t,r){var i=arguments.length<4?e:arguments[3],a=c(p(e),t),o,u;if(!a){if(l(u=d(e))){return b(u,t,r,i)}a=n.desc(0)}if(n.has(a,"value")){if(a.writable===false||!l(i))return false;o=c(i,t)||n.desc(0);o.value=r;v(i,t,o);return true}return a.set===undefined?false:(a.set.call(i,r),true)}var x={apply:r(85)(Function.call,h,3),construct:function O(e,t){var r=f.fn(arguments.length<3?e:arguments[2]).prototype,i=n.create(l(r)?r:Object.prototype),a=h.call(e,i,t);return l(a)?a:i},defineProperty:m(v),deleteProperty:function _(e,t){var r=c(p(e),t);return r&&!r.configurable?false:delete e[t]},enumerate:function E(e){return new g(p(e))},get:w,getOwnPropertyDescriptor:function P(e,t){return c(p(e),t)},getPrototypeOf:function k(e){return d(p(e))},has:function S(e,t){return t in e},isExtensible:function j(e){return!!y(p(e))},ownKeys:r(93),preventExtensions:m(Object.preventExtensions||n.it),set:b};if(a)x.setPrototypeOf=function A(e,t){a.check(e,t);try{a.set(e,t);return true}catch(r){return false}};i(i.G,{Reflect:{}});i(i.S,"Reflect",x)},function(e,t,r){var n=r(72);n(n.P,"Array",{includes:r(77)(true)});r(87)("includes")},function(e,t,r){var n=r(72);n(n.P,"String",{at:r(83)(true)})},function(e,t,r){var n=r(72);n(n.S,"RegExp",{escape:r(78)(/([\\\-[\]{}()*+?.,^$|])/g,"\\$1",true)})},function(e,t,r){var n=r(70),i=r(72),a=r(93);i(i.S,"Object",{getOwnPropertyDescriptors:function o(e){var t=n.toObject(e),r={};n.each.call(a(t),function(e){n.setDesc(r,e,n.desc(0,n.getDesc(t,e)))});return r}})},function(e,t,r){var n=r(72),i=r(84).forOf;n(n.P,"Set",{toJSON:function(){var e=[];i(this,false,e.push,e);return e}})},function(e,t,r){var n=r(70),i=r(72);function a(e){return function(t){var r=n.toObject(t),i=n.getKeys(r),a=i.length,o=0,u=Array(a),s;if(e)while(a>o)u[o]=[s=i[o++],r[s]];else while(a>o)u[o]=r[i[o++]];return u}}i(i.S,"Object",{values:a(false),entries:a(true)})},function(e,t,r){var n=r(70),i=r(72),a=n.core.Array||Array,o={};function u(e,t){n.each.call(e.split(","),function(e){if(t==undefined&&e in a)o[e]=a[e];else if(e in[])o[e]=r(85)(Function.call,[][e],t)})}u("pop,reverse,shift,keys,values,entries",1);u("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3);u("join,slice,concat,push,splice,unshift,sort,lastIndexOf,"+"reduce,reduceRight,copyWithin,fill,turn");i(i.S,"Array",o)},function(e,t,r){var n=r(70),i=r(72),a=r(73),o=r(94),u=n.g.navigator,s=!!u&&/MSIE .\./.test(u.userAgent);function f(e){return s?function(t,r){return e(a(o,[].slice.call(arguments,2),n.isFunction(t)?t:Function(t)),r)}:e}i(i.G+i.B+i.F*s,{setTimeout:f(n.g.setTimeout),setInterval:f(n.g.setInterval)})},function(e,t,r){var n=r(72),i=r(89);n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,r){r(47);var n=r(70),i=r(84).Iterators,a=r(80)("iterator"),o=i.Array,u=n.g.NodeList;if(n.FW&&u&&!(a in u.prototype)){n.hide(u.prototype,a,o)}i.NodeList=o},function(e,t,r){"use strict";var n=typeof self!="undefined"?self:Function("return this")(),i={},a=Object.defineProperty,o={}.hasOwnProperty,u=Math.ceil,s=Math.floor,f=Math.max,l=Math.min;var c=!!function(){try{return a({},"a",{get:function(){return 2}}).a==2}catch(e){}}();var v=y(1);function d(e){return isNaN(e=+e)?0:(e>0?s:u)(e)}function h(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}function p(e,t,r){e[t]=r;return e}function y(e){return c?function(t,r,n){return b.setDesc(t,r,h(e,n))}:p}function g(e){return e!==null&&(typeof e=="object"||typeof e=="function")}function m(e){return typeof e=="function"}function w(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}var b=e.exports=r(95)({g:n,core:i,html:n.document&&document.documentElement,isObject:g,isFunction:m,it:function(e){return e},that:function(){return this},toInteger:d,toLength:function(e){return e>0?l(d(e),9007199254740991):0},toIndex:function(e,t){e=d(e);return e<0?f(e+t,0):l(e,t)},has:function(e,t){return o.call(e,t)},create:Object.create,getProto:Object.getPrototypeOf,DESC:c,desc:h,getDesc:Object.getOwnPropertyDescriptor,setDesc:a,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:w,ES5Object:Object,toObject:function(e){return b.ES5Object(w(e))},hide:v,def:y(0),set:n.Symbol?p:v,mix:function(e,t){for(var r in t)v(e,r,t[r]);return e},each:[].forEach});if(typeof __e!="undefined")__e=i;if(typeof __g!="undefined")__g=n},function(e,t,r){var n=r(70),i=r(80)("toStringTag"),a={}.toString;function o(e){return a.call(e).slice(8,-1)}o.classof=function(e){var t,r;return e==undefined?e===undefined?"Undefined":"Null":typeof(r=(t=Object(e))[i])=="string"?r:o(t)};o.set=function(e,t,r){if(e&&!n.has(e=r?e:e.prototype,i))n.hide(e,i,t)};e.exports=o},function(e,t,r){var n=r(70),i=n.g,a=n.core,o=n.isFunction;function u(e,t){return function(){return e.apply(t,arguments)}}i.core=a;s.F=1;s.G=2;s.S=4;s.P=8;s.B=16;s.W=32;function s(e,t,r){var f,l,c,v,d=e&s.G,h=d?i:e&s.S?i[t]:(i[t]||{}).prototype,p=d?a:a[t]||(a[t]={});if(d)r=t;for(f in r){l=!(e&s.F)&&h&&f in h;c=(l?h:r)[f];if(e&s.B&&l)v=u(c,i);else v=e&s.P&&o(c)?u(Function.call,c):c;if(h&&!l){if(d)h[f]=c;else delete h[f]&&n.hide(h,f,c)}if(p[f]!=c)n.hide(p,f,v)}}e.exports=s},function(e,t,r){e.exports=function(e,t,r){var n=r===undefined;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3]);case 5:return n?e(t[0],t[1],t[2],t[3],t[4]):e.call(r,t[0],t[1],t[2],t[3],t[4])}return e.apply(r,t)}},function(e,t,r){"use strict";var n=r(70),i=r(85);e.exports=function(e){var t=e==1,r=e==2,a=e==3,o=e==4,u=e==6,s=e==5||u;return function(f){var l=Object(n.assertDefined(this)),c=n.ES5Object(l),v=i(f,arguments[1],3),d=n.toLength(c.length),h=0,p=t?Array(d):r?[]:undefined,y,g;for(;d>h;h++)if(s||h in c){y=c[h];g=v(y,h,l);if(e){if(t)p[h]=g;else if(g)switch(e){case 3:return true;case 5:return y;case 6:return h;case 2:p.push(y)}else if(o)return false}}return u?-1:a||o?o:p}}},function(e,t,r){var n=0;function i(e){return"Symbol("+e+")_"+(++n+Math.random()).toString(36)}i.safe=r(70).g.Symbol||i;e.exports=i},function(e,t,r){var n=r(70);function i(e,t,r){if(!e)throw TypeError(r?t+r:t)}i.def=n.assertDefined;i.fn=function(e){if(!n.isFunction(e))throw TypeError(e+" is not a function!");return e};i.obj=function(e){if(!n.isObject(e))throw TypeError(e+" is not an object!");return e};i.inst=function(e,t,r){if(!(e instanceof t))throw TypeError(r+": use the 'new' operator!");return e};e.exports=i},function(e,t,r){"use strict";var n=r(70);e.exports=function(e){return function(t){var r=n.toObject(this),i=n.toLength(r.length),a=n.toIndex(arguments[1],i),o;if(e&&t!=t)while(i>a){o=r[a++];if(o!=o)return true}else for(;i>a;a++)if(e||a in r){if(r[a]===t)return e||a}return!e&&-1}}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(r?t:this).replace(e,n)}}},function(e,t,r){var n=r(70);e.exports=function(e,t){var r=n.toObject(e),i=n.getKeys(r),a=i.length,o=0,u;while(a>o)if(r[u=i[o++]]===t)return u}},function(e,t,r){var n=r(70).g,i={};e.exports=function(e){return i[e]||(i[e]=n.Symbol&&n.Symbol[e]||r(75).safe("Symbol."+e))}},function(e,t,r){var n=r(70);e.exports=Object.assign||function i(e,t){var r=Object(n.assertDefined(e)),i=arguments.length,a=1;while(i>a){var o=n.ES5Object(arguments[a++]),u=n.getKeys(o),s=u.length,f=0,l;while(s>f)r[l=u[f++]]=o[l]}return r}},function(e,t,r){var n=r(70),i=r(76);function a(e,t){i.obj(e);i(t===null||n.isObject(t),t,": can't set as prototype!")}e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t){try{t=r(85)(Function.call,n.getDesc(Object.prototype,"__proto__").set,2);t({},[])}catch(i){e=true}return function o(r,n){a(r,n);if(e)r.__proto__=n;else t(r,n);return r}}():undefined),check:a}},function(e,t,r){"use strict";var n=r(70);e.exports=function(e){return function(t){var r=String(n.assertDefined(this)),i=n.toInteger(t),a=r.length,o,u;if(i<0||i>=a)return e?"":undefined;o=r.charCodeAt(i);return o<55296||o>56319||i+1===a||(u=r.charCodeAt(i+1))<56320||u>57343?e?r.charAt(i):o:e?r.slice(i,i+2):(o-55296<<10)+(u-56320)+65536}}},function(e,t,r){"use strict";var n=r(70),i=r(85),a=r(71),o=r(72),u=r(76).obj,s=r(80)("iterator"),f="@@iterator",l={},c={};var v="keys"in[]&&!("next"in[].keys());d(c,n.that);function d(e,t){n.hide(e,s,t);if(f in[])n.hide(e,f,t)}function h(e,t,r,i){var o=e.prototype,u=o[s]||o[f]||i&&o[i]||r;if(n.FW)d(o,u);if(u!==r){var c=n.getProto(u.call(new e));a.set(c,t+" Iterator",true);if(n.FW)n.has(o,f)&&d(c,n.that)}l[t]=u;l[t+" Iterator"]=n.that;return u}function p(e){var t=n.g.Symbol,r=e[t&&t.iterator||f],i=r||e[s]||l[a.classof(e)];return u(i.call(e))}function y(e){var t=e["return"];if(t!==undefined)u(t.call(e))}function g(e,t,r,n){try{return n?t(u(r)[0],r[1]):t(r)}catch(i){y(e);throw i}}var m=e.exports={BUGGY:v,Iterators:l,prototype:c,step:function(e,t){return{value:t,done:!!e}},stepCall:g,close:y,is:function(e){var t=Object(e),r=n.g.Symbol,i=r&&r.iterator||f;return i in t||s in t||n.has(l,a.classof(t))},get:p,set:d,create:function(e,t,r,i){e.prototype=n.create(i||m.prototype,{next:n.desc(1,r)});a.set(e,t+" Iterator")},define:h,std:function(e,t,r,i,a,u,s){function f(e){return function(){return new r(this,e)}}m.create(r,t,i);var l=f("key+value"),c=f("value"),d=e.prototype,p,y;if(a=="value")c=h(e,t,c,"values");else l=h(e,t,l,"entries");if(a){p={entries:l,keys:u?c:f("key"),values:c};o(o.P+o.F*v,t,p);if(s)for(y in p){if(!(y in d))n.hide(d,y,p[y])}}},forOf:function(e,t,r,n){var a=p(e),o=i(r,n,t?2:1),u;while(!(u=a.next()).done){if(g(a,o,u.value,t)===false){return y(a)}}}}},function(e,t,r){var n=r(76).fn;e.exports=function(e,t,r){n(e);if(~r&&t===undefined)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(80)("iterator"),i=false;try{var a=[7][n]();a["return"]=function(){i=true};Array.from(a,function(){throw 2})}catch(o){}e.exports=function(e){if(!i)return false;var t=false;try{var r=[7],a=r[n]();a.next=function(){t=true};r[n]=function(){return a};e(r)}catch(o){}return t}},function(e,t,r){var n=r(70),i=r(80)("unscopables");if(n.FW&&!(i in[]))n.hide(Array.prototype,i,{});e.exports=function(e){if(n.FW)[][i][e]=true}},function(e,t,r){var n=r(70);e.exports=function(e){if(n.DESC&&n.FW)n.setDesc(e,r(80)("species"),{configurable:true,get:n.that})}},function(e,t,r){"use strict";var n=r(70),i=r(85),a=r(71),o=r(73),u=n.g,s=n.isFunction,f=n.html,l=u.document,c=u.process,v=u.setImmediate,d=u.clearImmediate,h=u.postMessage,p=u.addEventListener,y=u.MessageChannel,g=0,m={},w="onreadystatechange",b,x,O;function _(){var e=+this;if(n.has(m,e)){var t=m[e];delete m[e];t()}}function E(e){_.call(e.data)}if(!s(v)||!s(d)){v=function(e){var t=[],r=1;while(arguments.length>r)t.push(arguments[r++]);m[++g]=function(){o(s(e)?e:Function(e),t)};b(g);return g};d=function(e){delete m[e]};if(a(c)=="process"){b=function(e){c.nextTick(i(_,e,1))}}else if(p&&s(h)&&!u.importScripts){b=function(e){h(e,"*")};p("message",E,false)}else if(s(y)){x=new y;O=x.port2;x.port1.onmessage=E;b=i(O.postMessage,O,1)}else if(l&&w in l.createElement("script")){b=function(e){f.appendChild(l.createElement("script"))[w]=function(){f.removeChild(this);_.call(e)}}}else{b=function(e){setTimeout(i(_,e,1),0)}}}e.exports={set:v,clear:d}},function(e,t,r){"use strict";var n=r(70),i=r(85),a=r(75).safe,o=r(76),u=r(84),s=n.has,f=n.set,l=n.isObject,c=n.hide,v=u.step,d=Object.isFrozen||n.core.Object.isFrozen,h=a("id"),p=a("O1"),y=a("last"),g=a("first"),m=a("iter"),w=n.DESC?a("size"):"size",b=0;function x(e,t){if(!l(e))return(typeof e=="string"?"S":"P")+e;if(d(e))return"F";if(!s(e,h)){if(!t)return"E";c(e,h,++b)}return"O"+e[h]}function O(e,t){
var r=x(t),n;if(r!="F")return e[p][r];for(n=e[g];n;n=n.n){if(n.k==t)return n}}e.exports={getConstructor:function(e,t,r){function a(i){var s=o.inst(this,a,e);f(s,p,n.create(null));f(s,w,0);f(s,y,undefined);f(s,g,undefined);if(i!=undefined)u.forOf(i,t,s[r],s)}n.mix(a.prototype,{clear:function s(){for(var e=this,t=e[p],r=e[g];r;r=r.n){r.r=true;if(r.p)r.p=r.p.n=undefined;delete t[r.i]}e[g]=e[y]=undefined;e[w]=0},"delete":function(e){var t=this,r=O(t,e);if(r){var n=r.n,i=r.p;delete t[p][r.i];r.r=true;if(i)i.n=n;if(n)n.p=i;if(t[g]==r)t[g]=n;if(t[y]==r)t[y]=i;t[w]--}return!!r},forEach:function l(e){var t=i(e,arguments[1],3),r;while(r=r?r.n:this[g]){t(r.v,r.k,this);while(r&&r.r)r=r.p}},has:function c(e){return!!O(this,e)}});if(n.DESC)n.setDesc(a.prototype,"size",{get:function(){return o.def(this[w])}});return a},def:function(e,t,r){var n=O(e,t),i,a;if(n){n.v=r}else{e[y]=n={i:a=x(t,true),k:t,v:r,p:i=e[y],n:undefined,r:false};if(!e[g])e[g]=n;if(i)i.n=n;e[w]++;if(a!="F")e[p][a]=n}return e},getEntry:O,getIterConstructor:function(){return function(e,t){f(this,m,{o:e,k:t})}},next:function(){var e=this[m],t=e.k,r=e.l;while(r&&r.r)r=r.p;if(!e.o||!(e.l=r=r?r.n:e.o[g])){e.o=undefined;return v(1)}if(t=="key")return v(0,r.k);if(t=="value")return v(0,r.v);return v(0,[r.k,r.v])}}},function(e,t,r){"use strict";var n=r(70),i=r(72),a=r(84),o=r(76).inst;e.exports=function(e,t,u,s,f){var l=n.g[e],c=l,v=s?"set":"add",d=c&&c.prototype,h={};function p(e,t){var r=d[e];if(n.FW)d[e]=function(e,n){var i=r.call(this,e===0?0:e,n);return t?this:i}}if(!n.isFunction(c)||!(f||!a.BUGGY&&d.forEach&&d.entries)){c=u.getConstructor(e,s,v);n.mix(c.prototype,t)}else{var y=new c,g=y[v](f?{}:-0,1),m;if(!r(86)(function(e){new c(e)})){c=function(t){o(this,c,e);var r=new l;if(t!=undefined)a.forOf(t,s,r[v],r);return r};c.prototype=d;if(n.FW)d.constructor=c}f||y.forEach(function(e,t){m=1/t===-Infinity});if(m){p("delete");p("has");s&&p("get")}if(m||g!==y)p(v,true)}r(71).set(c,e);r(88)(c);h[e]=c;i(i.G+i.W+i.F*(c!=l),h);if(!f)a.std(c,e,u.getIterConstructor(),u.next,s?"key+value":"value",!s,true);return c}},function(e,t,r){"use strict";var n=r(70),i=r(75).safe,a=r(76),o=r(84).forOf,u=n.has,s=n.isObject,f=n.hide,l=Object.isFrozen||n.core.Object.isFrozen,c=0,v=i("id"),d=i("weak"),h=i("leak"),p=r(74),y=p(5),g=p(6);function m(e,t){return y.call(e.array,function(e){return e[0]===t})}function w(e){return e[h]||f(e,h,{array:[],get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var r=m(this,e);if(r)r[1]=t;else this.array.push([e,t])},"delete":function(e){var t=g.call(this.array,function(t){return t[0]===e});if(~t)this.array.splice(t,1);return!!~t}})[h]}e.exports={getConstructor:function(e,t,r){function i(u){n.set(a.inst(this,i,e),v,c++);if(u!=undefined)o(u,t,this[r],this)}n.mix(i.prototype,{"delete":function(e){if(!s(e))return false;if(l(e))return w(this)["delete"](e);return u(e,d)&&u(e[d],this[v])&&delete e[d][this[v]]},has:function f(e){if(!s(e))return false;if(l(e))return w(this).has(e);return u(e,d)&&u(e[d],this[v])}});return i},def:function(e,t,r){if(l(a.obj(t))){w(e).set(t,r)}else{u(t,d)||f(t,d,{});t[d][e[v]]=r}return e},leakStore:w,WEAK:d,ID:v}},function(e,t,r){var n=r(70),i=r(76).obj;e.exports=function a(e){i(e);return n.getSymbols?n.getNames(e).concat(n.getSymbols(e)):n.getNames(e)}},function(e,t,r){"use strict";var n=r(70),i=r(73),a=r(76).fn;e.exports=function(){var e=a(this),t=arguments.length,r=Array(t),o=0,u=n.path._,s=false;while(t>o)if((r[o]=arguments[o++])===u)s=true;return function(){var n=this,a=arguments.length,o=0,f=0,l;if(!s&&!a)return i(e,r,n);l=r.slice();if(s)for(;t>o;o++)if(l[o]===u)l[o]=arguments[f++];while(a>f)l.push(arguments[f++]);return i(e,l,n)}}},function(e,t,r){e.exports=function(e){e.FW=true;e.path=e.g;return e}}])});
//# sourceMappingURL=dist/delta.full.min.js.map